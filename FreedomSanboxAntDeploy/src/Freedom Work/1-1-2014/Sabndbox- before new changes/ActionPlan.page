<!--/*
    Revision History:
    
    Version     Version Author     Date           Comments
    1.0         Prajakta Sanap     27/09/2012     Initial Draft - New Modified Action Plan
    
*/ -->

<apex:page controller="ActionPlanController" showHeader="false" standardStylesheets="true" title="Action Plan" id="actionPageId">
	<link rel="stylesheet" href="{!URLFOR($Resource.AutoComplete, 'jqueyCss/jquery-ui.css')}" />
	<script type="text/javascript" src="{!URLFOR($Resource.AutoComplete, 'jqueryFiles/jquery-1.9.1.js')}"></script>
	<script type="text/javascript" src="{!URLFOR($Resource.AutoComplete, 'jqueryFiles/jquery-ui.js')}"></script>
	<style>
		.inputMedical{
            	padding: 1px;
         }
         .inputIllness{
            	padding: 0px;
         }
         .inputTopUp{
            	padding: 0px;
         }
         .inputDisability{
            	padding: 0px;
         }
         .inputAccident{
            	padding: 0px;
         }
         
         .inputVehicle{
            	padding: 0px;
         }
         .inputHouseHold{
            	padding: 0px;
         }
         .inputlumpsumFunds{
         		padding: 0px;
         }
         .inputSIPFunds{
         		padding: 0px;
         }
         .inputWholeLife{
         		padding: 0px;
         }
         .inputEndowment{
         		padding: 0px;
         }
         .inputChildrens{
         		padding: 0px;
         }
         .inputUlipDebt{
         		padding: 0px;
         }
         .inputUlipEquity{
         		padding: 0px;
         }
         .inputPensionplan{
         		padding: 0px;
         }
         .inputLoan{
         		padding: 0px;
         }
       	 .inputFD{
         		padding: 0px;
         }
         .inputBond{
         		padding: 0px;
         }
       
	</style>
	
	<apex:composition template="TabPage">
        <apex:define name="contents">
<!--             <c:ActionPlanComp /> -->
 	<apex:form id="formid">
			
    <apex:stylesheet value="{!$Resource.FFStyle}"/>
    <!-- Added By Gaurav : To Display autocomplete for PolicyType   -->
<!--     	<apex:actionFunction action="{!onClickLumpsumAction}" name="calfuncAF" rerender="Etdisplay"> -->
<!--             <apex:param name="Acc" assignTo="{!MFLumpsumId}" value=""/> -->
<!-- 		</apex:actionFunction> -->
	
<!-- 	<apex:includescript value="//code.jquery.com/jquery-1.9.1.js"/> -->
<!-- 	<apex:includescript value="//code.jquery.com/ui/1.10.2/jquery-ui.js"/> -->
	<style type="text/css">
            .DataTableEven  { background-color:#FFFFFF; }
            .DataTableOdd    { background-color:#E4FBC5; }
            .actionPlan {
            	width:10%;
            	margin-left:20px; 
				background-image:none;
				background-color:#F5D0A9!important;
				font-size:11px !important; 
				padding-top:4px;
				padding-bottom:4px;
            }
            
            .saveActionPlan {
            	margin-left:20px;
            	background-image:none;
            	background-color:#A9C5EB !important;
            }
    </style>

     <script>
    	var actionPlanId;
    	var saveActionPlanId;
    	function changeCssActionPlan(val){
    		//alert(val);
    		if(val == 'Action Plan'){
				document.getElementById(actionPlanId).style.backgroundColor = '#F5D0A9';
				document.getElementById(saveActionPlanId).style.backgroundColor = '#A9C5EB';
			}
			else{
				document.getElementById(actionPlanId).style.backgroundColor = '#A9C5EB';
				document.getElementById(saveActionPlanId).style.backgroundColor = '#F5D0A9';
			}   	
    	}
    	
    	function CreateET() {
        	//var doDelete = confirm('Generating the Execution Tracker would lock the Action Plan \n and will not allow you to edit it. Do you want to continue?');
        	var doCreateET = confirm('Execution Tracker records will be generated for this Entity. Do you want to continue?');
   			return doCreateET; 
    	}
    	
    	function generateNewAP() {
        	var doDisplay = confirm('New Action Plan will be generated for this Entity and all Open \n Execution Tracker records will be deleted. Do you want to continue?');
   			return doDisplay; 
    	}
    	var ExecutionStatus;
    	var databaseAmount;
    	var schemeName1;
    	var ItemType;
    	function funcCall(ele,EtStatus,schemeName,type)
    	{
    		//alert('---schemeName----'+schemeName);
    		ExecutionStatus = EtStatus;
    		//alert(val);
    		databaseAmount = ele.value;
    		schemeName1 = schemeName;
    		ItemType = type;
    		//alert('---ItemType----'+ItemType);
    		return ele.value;
    	}
    	function OnBlurFuncCall(ele)
    	{
    		//alert('-ExecutionStatus-'+ExecutionStatus);
    		if(ExecutionStatus == 'Partially Executed')
    		{
    			//alert('-in if --databaseAmount-'+databaseAmount+'-val-'+val);
    			
    			if(parseInt(ele.value) < parseInt(databaseAmount))
    			{
    				alert('As ET records are Partially Executed for "'+schemeName1+'" we cannot change the Amount from '+databaseAmount+ ' to lesser value '+ele.value);
    				ele.value = databaseAmount;
    			}
    		}
    		//alert('---OnBlurFuncCall-ItemType---'+ItemType);
    		//if(ItemType == 'Life Insurance' || ItemType == 'General Insurance')
    		//{
    			//alert('---OnBlurFuncCall-ItemType-inside--'+ItemType);
    			if(ExecutionStatus == 'Not Executed')
    			{
    				if(parseInt(ele.value) < parseInt(databaseAmount))
	    			{
	    				alert('As ET records are Created for "'+schemeName1+'" we cannot change the Amount from '+databaseAmount+ ' to lesser value '+ele.value);
	    				ele.value = databaseAmount;
	    			}
    			}
    		//}
    	}
    	
    	function callOnFocus(ele, index, type)
    	{
    		alert('ele'+ele);
    		callAf();
    	}
    	/*
    	function LIremove(ele, rowCount, mainIndex)
    	{	
    		alert('-----Hello LI---'+rowCount+' - '+mainIndex);
    		removeLIProduct(rowCount, mainIndex);
    		
    	}
    	
    	function newLIremove(ele, rowCount, mainIndex)
    	{	
    		alert('-----Hello new LI---'+rowCount+' - '+mainIndex);
    		removeNewLIProduct(rowCount, mainIndex);
    		
    	}
    	
    	function GIremove(ele, rowCount, mainIndex)
    	{	
    		alert('-----Hello----'+rowCount+' - '+mainIndex);
    		removeGIProduct(rowCount, mainIndex);
    		
    	}
    	
    	function newGIremove(ele, rowCount, mainIndex)
    	{	
    		alert('-----Hello----'+rowCount+' - '+mainIndex);
    		removeNewGIProduct(rowCount, mainIndex);
    	}
    	*/
   /* 	function attributeSet(){
			//alert();
			//MF_GS Lumpsum
			document.getElementById('actionPageId:j_id1:j_id4:formid:block1:section5:j_id201').disabled = "disabled";
			document.getElementById('actionPageId:j_id1:j_id4:formid:block1:section5:j_id201').className = "btnDisabled";
			
			//MF_GS SIP
			document.getElementById('actionPageId:j_id1:j_id4:formid:block1:section1:j_id262').disabled = "disabled";
			document.getElementById('actionPageId:j_id1:j_id4:formid:block1:section1:j_id262').className = "btnDisabled";
			
			//Goal Wise-Emergency
			document.getElementById('actionPageId:j_id1:j_id4:formid:block1:section7:section11:j_id445').disabled = "disabled";
			document.getElementById('actionPageId:j_id1:j_id4:formid:block1:section7:section11:j_id445').className = "btnDisabled";
			
			
		}
		
		function attributeReset(){
			//alert();
			document.getElementById('actionPageId:j_id1:j_id4:formid:block1:section5:j_id201').disabled = "";
			document.getElementById('actionPageId:j_id1:j_id4:formid:block1:section5:j_id201').className = "btn";
			
			document.getElementById('actionPageId:j_id1:j_id4:formid:block1:section1:j_id262').disabled = "";
			document.getElementById('jactionPageId:j_id1:j_id4:formid:block1:section1:j_id262').className = "btn";
			
			document.getElementById('actionPageId:j_id1:j_id4:formid:block1:section7:section11:j_id445').disabled = "";
			document.getElementById('actionPageId:j_id1:j_id4:formid:block1:section7:section11:j_id445').className = "btn";
		}
    	*/
    	/*function checkAgreedAmountFilled()
	    {
	    	if($(".agreedAmount").val() == null || $(".agreedAmount").val() == 0.0){
	    		alert('{!$Label.Agreed_Amount}');
	    		$(".AssigntoOps").prop('checked', false);
	    		return false;
	    	}
	    }*/
	    
    	/*function cloneActionPlan(){
        	var doDisplay = confirm('Current Action Plan will be Cloned for this Entity and all \n Open Execution Tracker records will be deleted. Do you want to continue?');
   			return doDisplay; 
   			
    	}*/
    	/*function calfuncJS(val) 
    	{
    		calfuncAF(val);
    	}*/
    </script>
   
    <apex:stylesheet value="{!$Resource.FFStyle}"/>
        <apex:pageBlock tabStyle="account" id="pageBlockId1" >
        <div style="margin:bottom:20px; width:100%;margin-left:10px;">
            <apex:outputLabel value="Analysis" styleclass="button" style=" width:10%;  background-image:none;background-color:#A9C5EB !important; font-size:11px !important;padding-top:4px; padding-bottom:4px;" />
            <apex:image id="theImage" value="{!URLFOR($Resource.Ffimage)}" style="margin-left:20px; vertical-align:bottom;"/>
            <apex:outputLabel value="Generate Action Plan" styleclass="button" style=" width:10%;margin-left:20px;  background-image:none;background-color:#A9C5EB !important;font-size:11px !important; padding-top:4px; padding-bottom:4px;" />
            <apex:image id="theImage2" value="{!URLFOR($Resource.Ffimage)}" style="margin-left:20px; vertical-align:bottom;"/>
<!--             <apex:commandButton id="theCommandLink2" styleclass="button" value="Summary Action Plan" action="{!SummaryActionPlanPage}" style="margin-left:20px; background-image:none;background-color:#A9C5EB !important;"  /> -->
<!--             <apex:image id="theImage3" value="{!URLFOR($Resource.Ffimage)}" style="margin-left:20px; vertical-align:bottom;"/> -->
            <apex:commandButton id="theCommandLink1" styleclass="button" value="Action Plan" action="{!showActionPlan}" status="topStatus" 
            					onClick="changeCssActionPlan('Action Plan');" rerender="mutualFundPanelId,Pagemsg,saveActionPlan"  
            					style="margin-left:20px; background-image:none;background-color:#A9C5EB !important;" />
			<script>
				actionPlanId = '{!$Component.theCommandLink1}';
				//alert('---actionPlanId---'+actionPlanId);
			</script>
			 <apex:image id="theImage4" value="{!URLFOR($Resource.Ffimage)}" style="margin-left:20px; vertical-align:bottom;"/>
			<apex:commandButton id="theCommandLink4" styleclass="button" value="Save Action Plan" action="{!showPreview}" status="topStatus" 
								onClick="changeCssActionPlan('Save Action Plan');" rerender="mutualFundPanelId,Pagemsg,saveActionPlan" 
								style="margin-left:20px; background-image:none;background-color:#A9C5EB !important;"/> <!-- onClick="colourGreen()" -->
			<script>
				saveActionPlanId = '{!$Component.theCommandLink4}';
			</script> 
			
			<!--   	Date : 11-02-2013  Action Plan  : Prajakta Sanap -->    		               
			<apex:outputPanel rendered="{!isDisplaySaveButton}">			
				<!-- 	Added By : Aditi Satpute : Execution Tracker -->
				<apex:image id="theImage5" rendered="{!isDisplayETButton}" value="{!URLFOR($Resource.Ffimage)}" style="margin-left:20px; vertical-align:bottom;"/>
	<!-- 			Exe : {!isExecutionTrackerOpened} -->
	            <apex:commandButton id="theCommandLink3" styleclass="button" value="Execution Tracker" action="{!showExecutionTracker}" status="topStatus__1"
	            					onclick="return CreateET();" rendered="{!isDisplayETButton}" style="margin-left:20px; background-image:none;background-color:#A9C5EB !important;" /> 
           		<apex:actionStatus stopText="" id="topStatus__1">
	                <apex:facet name="start">
	               		<apex:outputPanel style="padding-left:1%;padding-top:2px;">
	                    	<img src="/img/loading.gif" width="16" height="16"/>
						</apex:outputPanel>
	                </apex:facet>
           		</apex:actionStatus>  
            </apex:outputPanel>					
			
        </div>
        <br/>
        </apex:pageBlock>

<!--   					Date : 11-02-2013  Action Plan  : Prajakta Sanap -->                   
<!-- 		<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}"> -->
<!-- 			<apex:outputPanel rendered="{!isNewAP}"> -->
<!-- 		 		<apex:commandButton id="theCommandLink4" styleclass="button" value="Generate New Action Plan" action="{!generateNewAP}" status="topStatus" -->
<!--             					onclick="return generateNewAP();" style="margin-left:20px; background-image:none;background-color:#A9C5EB !important;" />  -->
<!--             	<br/> -->
<!--         	</apex:outputPanel> -->
<!--         </apex:outputPanel> -->
       
<!-- ================================================================================================================================================================= -->

        	<apex:outputPanel id="saveActionPlan" >    	
             <apex:outputPanel rendered="{!isPreview}"><br/>
                <apex:pageBlock id="panDisplayET"> 
                    <apex:panelGrid columns="2" width="60%">
                        <apex:outputText value="Do you want to preview the plan?"/>
						<apex:commandLink id="theCommandLinkpre" styleClass="btn" value="Preview" target="_blank" action="{!actionPlanPDF}" style="text-decoration:none;" /> 
            			            			
                    <!--  /* Purpose : While generating Execution Tracker for given entity, save his Approved plan and his html as an attachment. */ -->
                        <apex:outputLabel value="{!$Label.DoYouWantToSaveThisPlan}" rendered="{!isFPLimitedAccess}"/>
                        <apex:outputPanel rendered="{!isFPLimitedAccess}">
	                        <apex:commandButton id="theCommandLinksave" value="Save" action="{!saveActionPlanPDF}" status="counterStatusData"/>
<!-- 	                        rerender="pageBlockId1"  -->
	                       	<apex:actionStatus stopText="" id="counterStatusData" >
				                <apex:facet name="start">
				               		<apex:outputPanel style="padding-left:1%;padding-top:2px;">
				                    	<img src="/img/loading.gif" width="16" height="16"/>
									</apex:outputPanel>
				                </apex:facet>
	                        </apex:actionStatus>
<!-- 	                        <apex:actionStatus stopText="" id="statusId" onstart="attributeSet();" onstop="attributeReset();">  -->
<!-- 			                	<apex:facet name="start"> -->
<!-- 			               			<apex:outputPanel style="padding-left:1%;padding-top:2px;" > -->
<!-- 			                    		<img src="/img/loading.gif" width="16" height="16"/> -->
<!-- 									</apex:outputPanel> -->
<!-- 			                	</apex:facet> -->
<!-- 			           		</apex:actionStatus> -->
			           		
						</apex:outputPanel>
                    </apex:panelGrid>
					<hr/>
                    <apex:panelGrid columns="1" width="40%">
                    	<apex:outputLabel value="Do you want to send this plan to client?" />
                    </apex:panelGrid>
                	<apex:panelGrid columns="3" width="40%">
                		<apex:outputLabel value="Email Body" />
                		<apex:inputTextarea id="bodytext" value="{!emailBody}" />
                		<apex:commandButton id="theCommandLinksend" value="Send" action="{!sendEmail}"/>
                	</apex:panelGrid>
<!--                 	<apex:panelGrid columns="2" width="70%"> -->
<!--                 		<apex:outputlabel /> -->
					<div align="center"> 
                		<apex:outputLabel value="Action Plan has been mailed successfully to '{!IF(strEntityName != null,strEntityName,'')}'" rendered="{!isMailSent}" style="width:8%; FONT-FAMILY: Calibri; FONT-SIZE: 15px; FONT-WEIGHT: bold; COLOR: #329902;"/>
                	</div>
<!--                 	</apex:panelGrid> -->
                </apex:pageBlock> 
               </apex:outputPanel>
			</apex:outputPanel>

<!-- ================================================================================================================================================================= -->

        <br/>
        <apex:pageMessages id="Pagemsg"/>
        <apex:outputPanel rendered="{!isSidebar}">
        <apex:outputPanel id="mutualFundPanelId" >
        <apex:outputPanel rendered="{!!isPreview}">
        <apex:pageBlock id="block1">
        
 <!-- =============================================================CURRENT- LUMPSUM=====================================================        	 -->       
<!--         <apex:pageBlockSection title="ADVICE ON EXISTING INVESTMENT ASSETS" collapsible="true" columns="1" id="section9"> -->
        <apex:outputPanel id="pageBlockSection1a">
			<apex:pageBlockSection title="CURRENT INVESTMENT ASSETS - LUMPSUM" collapsible="true" columns="1" id="section5">

           	
<!-- =============================================================CURRENT MUTUAL FUNDS - LUMPSUM=====================================================        	 -->
<!-- 				<div class="subHeader" style="width:85%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">CURRENT MUTUAL FUNDS - LUMPSUM</div> -->
				<apex:pageBlockSection title="MUTUAL FUNDS - LUMPSUM" columns="1" collapsible="true" >
				<div style="margin-left:50px;">
				<apex:repeat value="{!beanObj.mapIdToCurrentFunds}" var="curLumpMap"> 
	                
<!-- 	               Mutual Fund : {!curLumpMap} -->
	                <apex:pageBlockTable value="{!beanObj.mapIdToCurrentFunds[curLumpMap]}" var="curLumpObj" styleClass="required" style="margin-left:48px;width:900px;">
                		
		               <apex:column width="2%">
<!--   					Date : 11-02-2013  Action Plan  : Prajakta Sanap -->    		               
			                <apex:outputPanel rendered="{!isDisplaySaveButton}">     
			                    <apex:commandButton Action="{!addCurrentMutualFundRow}" value="+" rerender="pageBlockSection1a,Pagemsg" rendered="{!!curLumpObj.isNewMutualFund}">
		                           <apex:param name="addNew" value="{!curLumpObj.investmentId}"  assignTo="{!addNewInvestId}" />
		                        </apex:commandButton>
		                        <apex:outputPanel rendered="{!IF(curLumpObj.ETStatus == 'Partially Executed' || curLumpObj.ETStatus == 'Fully Executed' || curLumpObj.ETStatus == 'Not Executed',false,true)}">   
<!-- 		                         && {!IF(curLumpObj.ETStatus == 'Partially Executed' || curLumpObj.ETStatus == 'Fully Executed',false,true)} -->
			                        <apex:commandButton Action="{!removeCurrentMutualFundRow}" value="-" rerender="pageBlockSection1a,Pagemsg" rendered="{!curLumpObj.isNewMutualFund}">
			                           <apex:param name="recId" value="{!curLumpObj.investmentId}"  assignTo="{!removeInvestmentId}" />
			                           <apex:param name="removeNumber" value="{!curLumpObj.newCount}"  assignTo="{!recordNumber}" />
			                        </apex:commandButton> 
		                        </apex:outputPanel>
	                    	</apex:outputPanel>
	                    </apex:column>
		                
	                    <apex:column headerValue="Scheme Name" width="15%">
	                        <apex:outputText value="{!curLumpObj.schemeName}" style="width:100px;"/>
	                    </apex:column>
	                    <apex:column headerValue="Asset Class" width="15%">
	                        <apex:outputText value="{!curLumpObj.assetClass}" style="width:180px;"/>
	                    </apex:column>
	                    <apex:column headerValue="Amount" style="text-align:right; padding-right: 15px;" width="12%">
	                    	<apex:outputText value="{0, number, ,##,##0}" >
                                 <apex:param value="{!curLumpObj.amount}"/>
                             </apex:outputText>
	                    </apex:column>
	                    <apex:column headerValue="Owner" width="12%">
	                        <apex:outputText value="{!curLumpObj.owner}" style="width:190px;"/>
	                    </apex:column>
	                    
	                    <apex:column headerValue="Action" style="text-align:left;" width="12%">
<!-- 	                     onchange="calfuncJS('{!curLumpObj.actionPlanMFLumpsumId}')" -->
	                        <apex:selectList rendered="{!IF(curLumpObj.ETStatus == 'Partially Executed' || curLumpObj.ETStatus == 'Fully Executed',false,true)}" value="{!curLumpObj.lumpsumAction}"  onChange="return changeAction(this)"  id="lumpAction" size="1" styleClass="textStyle" style="width:100px;">
                                <apex:selectOptions value="{!lumpActions}"/>
                                <apex:actionsupport event="onchange" rerender="section9"/>
                            </apex:selectList>
                            <apex:outputText rendered="{!IF(curLumpObj.ETStatus == 'Partially Executed' || curLumpObj.ETStatus == 'Fully Executed',true,false)}" value="{!curLumpObj.lumpsumAction}" style="width:190px;"/>
	                    </apex:column>
	                    
	                     
	                    <apex:column headerValue="Action Amount" style="text-align:right;width:12%">
	                        <apex:inputText id="lumpsumActionAmount" onfocus="funcCall(this,'{!curLumpObj.ETStatus}','{!curLumpObj.schemeName}','MF Lumpsum')"  onblur="OnBlurFuncCall(this)" rendered="{!IF(curLumpObj.ETStatus != 'Fully Executed',true,false)}" value="{!curLumpObj.actionAmount}" styleClass="textStyle" style="width:70px; text-align:right;"/>
	                        <apex:outputText rendered="{!IF(curLumpObj.ETStatus == 'Fully Executed',true,false)}" value="{!curLumpObj.actionAmount}" style="width:190px;"/>
	                    </apex:column>  
	                    
	                    <apex:column headerValue="Execution Tracker to be opened" style="text-align:left;width:10%;" id="Etdisplay">
	                      	<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
<!-- 	                      	rendered="{!IF(((curLumpObj.lumpsumAction == '') || (curLumpObj.lumpsumAction == '--None--') || (curLumpObj.lumpsumAction == null)),false,true)}" -->
	                      	<apex:outputPanel id="optET" style="{!IF((TRIM(curLumpObj.lumpsumAction) == '') ||(TRIM(curLumpObj.lumpsumAction) == '--None--')|| (TRIM(curLumpObj.lumpsumAction) == null),'visibility:hidden','visibility:visible')}">
<!-- 		                       	<apex:outputPanel rendered="{!!curLumpObj.isETCreated}"> -->
			                        <apex:selectList rendered="{!IF(curLumpObj.ETStatus == 'Partially Executed' || curLumpObj.ETStatus == 'Fully Executed',false,true)}" value="{!curLumpObj.executionTracker}"  size="1" styleClass="textStyle" style="width:100px;">
		                                 <apex:selectOptions value="{!ExecutionTracker}"/>
		                            </apex:selectList>
<!-- 		                        </apex:outputPanel> -->
		                        <apex:outputText rendered="{!IF(curLumpObj.ETStatus == 'Partially Executed' || curLumpObj.ETStatus == 'Fully Executed',true,false)}" value="{!curLumpObj.executionTracker}" style="width:190px;"/>
<!-- 		                        <apex:outputPanel rendered="{!curLumpObj.isETCreated}" style="font-color:#ED1B24;"> -->
<!-- 	                                <apex:outputLabel value="Already Created" style="width:80px;font-size:11px;font-weight:bold;font-color:#ED1B24;text-align:center;"/>   -->
<!-- 	                            </apex:outputPanel> -->
	                        </apex:outputPanel>
	                    </apex:column>
	                    <apex:column id="idLumpsumETStatus" headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;">
		                    <apex:outputText value="{!curLumpObj.ETStatus}" />
		                </apex:column>
	                </apex:pageBlockTable>
	            </apex:repeat>
           		<apex:pageBlockSectionItem >
           			<apex:outputText value="Remarks: " style="text-align:left;"/>
           			<apex:inputTextArea value="{!mfLumpsumRemark}" style="width:300px;height:55px;"/>
           		</apex:pageBlockSectionItem>
           		</div>
            </apex:pageBlockSection>
	        <script>
	        	function changeAction(x)
	        	{
	        		var currentSelectRow = x.parentNode.parentNode.rowIndex;
	        		
	        		//var c = x.parentNode.parentNode.lastChild.childNodes;
	        		var allChild = x.parentNode.parentNode.childNodes;
	        		
	        		var i;
	        		var cellET;
	        		for(i = 0; i< allChild.length-1; i++)
	        		{
	        			cellET = allChild[i];
	        		}
	        		var allETCellChild
	        		allETCellChild = cellET.childNodes;
	        		for(i = 0; i< allETCellChild.length; i++)
	        		{
	        			var idET = allETCellChild[i].id;
	        			if(idET.indexOf('optET') != -1)
	        				break;
	        		}
	        		if(x.value == '')
	        			document.getElementById(allETCellChild[0].id).style.visibility = "hidden"; 
	        		else
	        			document.getElementById(allETCellChild[0].id).style.visibility = "visible";
	        		//x.parentNode.parentNode.lastChild.
	        	}
	        
	        </script>    
	        
<!-- =============================================================CURRENT GOLD AND SILVER - LUMPSUM=============================================        	 -->         

				<apex:pageBlockSection title="GOLD AND SILVER - LUMPSUM" columns="1" collapsible="true" id="section13">
				<div style="margin-left:50px;">
				<apex:repeat value="{!beanObj.mapIdToCurrentGold}" var="curLumpMap"> 
	                
<!-- 	               Mutual Fund : {!curLumpMap} -->
	                <apex:pageBlockTable value="{!beanObj.mapIdToCurrentGold[curLumpMap]}" var="curLumpObj" styleClass="required" style="margin-left:48px;width:900px;">
                		
		               <apex:column width="2%">
			                <apex:outputPanel rendered="{!isDisplaySaveButton}">     
			                    <apex:commandButton Action="{!addCurrentGoldSilverRow}" value="+" rerender="pageBlockSection1a,Pagemsg" rendered="{!!curLumpObj.isNewGoldSilver}">
		                           <apex:param name="addNew" value="{!curLumpObj.investmentId}" assignTo="{!addNewInvestId}" />
		                        </apex:commandButton>
		                        <apex:outputPanel rendered="{!IF(curLumpObj.ETStatus == 'Partially Executed' || curLumpObj.ETStatus == 'Fully Executed' || curLumpObj.ETStatus == 'Not Executed',false,true)}">
			                        <apex:commandButton Action="{!removeCurrentGoldSilverRow}" value="-" rerender="pageBlockSection1a,Pagemsg" rendered="{!curLumpObj.isNewGoldSilver}">
			                           <apex:param name="recId" value="{!curLumpObj.investmentId}"  assignTo="{!removeInvestmentGoldId}" />
			                           <apex:param name="removeNumber" value="{!curLumpObj.newCount}"  assignTo="{!recordNumberGold}" />
			                        </apex:commandButton> 
			                    </apex:outputPanel>
	                    	</apex:outputPanel>
	                    </apex:column>
		                
	                    <apex:column headerValue="Asset Name" width="15%">
	                        <apex:outputText value="{!curLumpObj.schemeName}" style="width:100px;"/>
	                    </apex:column>
	                    <apex:column headerValue="Asset Class" width="15%">
	                        <apex:outputText value="{!curLumpObj.assetClass}" style="width:180px;"/>
	                    </apex:column>
	                    <apex:column headerValue="Amount" style="text-align:right; padding-right: 15px;" width="12%">
	                    	<apex:outputText value="{0, number, ,##,##0}" rendered="{!IF(curLumpObj.ETStatus != 'Fully Executed',true,false)}">
                                 <apex:param value="{!curLumpObj.amount}"/>
                             </apex:outputText>
                             <apex:outputText rendered="{!IF(curLumpObj.ETStatus == 'Fully Executed',true,false)}" value="{!curLumpObj.actionAmount}" style="width:190px;"/>
	                    </apex:column>
	                    <apex:column headerValue="Owner" width="12%">
	                        <apex:outputText value="{!curLumpObj.owner}" style="width:190px;"/>
	                    </apex:column>
	                    
	                    <apex:column headerValue="Action" style="text-align:left;" width="12%">
<!-- 	                     onchange="calfuncJS('{!curLumpObj.actionPlanMFLumpsumId}')" -->
	                        <apex:selectList rendered="{!IF(curLumpObj.ETStatus == 'Partially Executed' || curLumpObj.ETStatus == 'Fully Executed',false,true)}" value="{!curLumpObj.lumpsumAction}"  onChange="return changeAction(this)"  id="lumpAction" size="1" styleClass="textStyle" style="width:100px;">
                                <apex:selectOptions value="{!lumpActions}"/>
                                <apex:actionsupport event="onchange" rerender="section9a"/>
                            </apex:selectList>
                            <apex:outputText rendered="{!IF(curLumpObj.ETStatus == 'Partially Executed' || curLumpObj.ETStatus == 'Fully Executed',true,false)}" value="{!curLumpObj.lumpsumAction}" style="width:190px;"/>
	                    </apex:column>
	                    
	                     
	                    <apex:column headerValue="Action Amount" style="text-align:right;width:12%">
	                    	<apex:inputText onfocus="funcCall(this,'{!curLumpObj.ETStatus}','{!curLumpObj.schemeName}','GS Lumpsum')"  onblur="OnBlurFuncCall(this)" rendered="{!IF(curLumpObj.ETStatus != 'Fully Executed',true,false)}" value="{!curLumpObj.actionAmount}" styleClass="textStyle" style="width:70px; text-align:right;"/>
	                        <apex:outputText rendered="{!IF(curLumpObj.ETStatus == 'Fully Executed',true,false)}" value="{!curLumpObj.actionAmount}" style="width:190px;"/>
	                    </apex:column>  
	                    
	                    <apex:column headerValue="Execution Tracker to be opened" style="text-align:left;width:10%;" id="Etdisplay">
	                      	<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
<!-- 	                      	rendered="{!IF(((curLumpObj.lumpsumAction == '') || (curLumpObj.lumpsumAction == '--None--') || (curLumpObj.lumpsumAction == null)),false,true)}" -->
	                      	<apex:outputPanel id="optET" style="{!IF((TRIM(curLumpObj.lumpsumAction) == '') ||(TRIM(curLumpObj.lumpsumAction) == '--None--')|| (TRIM(curLumpObj.lumpsumAction) == null),'visibility:hidden','visibility:visible')}">
<!-- 		                       	<apex:outputPanel rendered="{!!curLumpObj.isGSETCreated}"> -->
			                        <apex:selectList rendered="{!IF(curLumpObj.ETStatus == 'Partially Executed' || curLumpObj.ETStatus == 'Fully Executed',false,true)}" value="{!curLumpObj.executionTracker}"  size="1" styleClass="textStyle" style="width:100px;">
		                                 <apex:selectOptions value="{!ExecutionTracker}"/>
		                            </apex:selectList>
<!-- 		                        </apex:outputPanel> -->
		                        <apex:outputText rendered="{!IF(curLumpObj.ETStatus == 'Partially Executed' || curLumpObj.ETStatus == 'Fully Executed',true,false)}" value="{!curLumpObj.executionTracker}" style="width:190px;"/>
<!-- 		                        <apex:outputPanel rendered="{!curLumpObj.isGSETCreated}" style="font-color:#ED1B24;"> -->
<!-- 	                                <apex:outputLabel value="Already Created" style="width:80px;font-size:11px;font-weight:bold;font-color:#ED1B24;text-align:center;"/>   -->
<!-- 	                            </apex:outputPanel> -->
	                        </apex:outputPanel>
	                    </apex:column>
	                    <apex:column headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;">
		                    <apex:outputText value="{!curLumpObj.ETStatus}" />
		                </apex:column>
	                </apex:pageBlockTable>
	            </apex:repeat>
           		<apex:pageBlockSectionItem >
           			<apex:outputText value="Remarks: " style="text-align:left;"/>
           			<apex:inputTextArea value="{!gsLumpsumRemark}" style="width:300px;height:55px;"/>
           		</apex:pageBlockSectionItem>
           		</div>
            </apex:pageBlockSection>
	        <script>
	        	/*function changeAction(x)
	        	{
	        		var currentSelectRow = x.parentNode.parentNode.rowIndex;
	        		var c = x.parentNode.parentNode.lastChild.childNodes;
	        		var i;
	        		for(i = 0; i< c.length; i++)
	        		{
	        			var idET = c[i].id;
	        			if(idET.indexOf('optET') != -1)
	        				break;
	        		}
	        		if(x.value == '')
	        			document.getElementById(c[0].id).style.visibility = "hidden"; 
	        		else
	        			document.getElementById(c[0].id).style.visibility = "visible";
	        		//x.parentNode.parentNode.lastChild.
	        	}*/
	        
	        </script>    
	            

            	    
	             <apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">
<!-- 	             	<apex:outputPanel rendered="{!isSave}" id="displaySave"> -->
	            		<apex:commandButton value="Save" Action="{!saveActionPlan}"  style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" 
	                               onclick="if(!confirm('Do you want to continue?')){return false;}" rendered="{!Not(blnIsETAlreadyGenerated)}" rerender="pageBlockSection1a,Pagemsg,Pagemsg1" status="statusId"/>
<!-- 	            	</apex:outputPanel> -->
					<apex:actionStatus stopText="" id="statusId">
	                	<apex:facet name="start">
	               			<apex:outputPanel style="padding-left:1%;padding-top:2px;">
	                    		<img src="/img/loading.gif" width="16" height="16"/>
							</apex:outputPanel>
	                	</apex:facet>
	           		</apex:actionStatus>  
            	</apex:outputPanel>
            	
            	
            
            </apex:pageBlockSection>
         </apex:outputPanel>   
            
<!-- =====================================================End - Gold & Silver========Prajakta===================================================        	 -->       
        
        <apex:outputPanel id="pageBlockSection1">
			<apex:pageBlockSection title="CURRENT INVESTMENT ASSETS - RUNNING SIPs" collapsible="true" columns="1" id="section1">
 
<!-- =============================================================CURRENT MUTUAL FUNDS - RUNNING SIPs=============================================        	 -->
        	
        		<apex:pageBlockSection title="MUTUAL FUNDS - RUNNING SIPs" columns="1" >
	                
	                <div style="margin-left:50px;">
		                <apex:pageBlockTable value="{!beanObj.lstSIPCurrentFunds}" var="curSIPObj" styleClass="required" style="margin-left:48px;width:900px;">
		                    <apex:column headerValue="Scheme Name" width="15%">
		                        <apex:outputText value="{!curSIPObj.schemeName}" style="width:100px;"/>
		                    </apex:column>
		                    <apex:column headerValue="Asset Class" width="15%">
		                        <apex:outputText value="{!curSIPObj.assetClass}" style="width:180px;"/>
		                    </apex:column>
		                    <apex:column headerValue="Current SIP" style="text-align:right; padding-right: 15px;" width="10%">
		                    	<apex:outputText value="{!curSIPObj.currentSIP}"/>
		                    </apex:column>
		                    <apex:column headerValue="Owner" width="17%">
		                        <apex:outputText value="{!curSIPObj.owner}" style="width:190px;"/>
		                    </apex:column>
		                    <apex:column headerValue="SIP Action" style="text-align:left;" width="15%">
		                        <apex:selectList rendered="{!IF(curSIPObj.ETStatus == 'Partially Executed' || curSIPObj.ETStatus == 'Fully Executed',false,true)}" value="{!curSIPObj.SIPaction}" size="1" styleClass="textStyle" style="width:100px;">
		                              <apex:selectOptions value="{!sipActions}"/>
		                        </apex:selectList>
		                        <apex:outputText rendered="{!IF(curSIPObj.ETStatus == 'Partially Executed' || curSIPObj.ETStatus == 'Fully Executed',true,false)}" value="{!curSIPObj.SIPaction}" style="width:190px;"/>
		                    </apex:column>
		                    <apex:column headerValue="Action Amount" >
		                        <apex:inputText onfocus="funcCall(this,'{!curSIPObj.ETStatus}','{!curSIPObj.schemeName}','MF SIP')"  onblur="OnBlurFuncCall(this)" value="{!curSIPObj.SIPactionAmount}" rendered="{!IF(curSIPObj.ETStatus != 'Fully Executed',true,false)}" style="text-align:right;width:70px;"/>
		                        <apex:outputText rendered="{!IF(curSIPObj.ETStatus == 'Fully Executed',true,false)}" value="{!curSIPObj.SIPactionAmount}" style="width:190px;"/>
		                    </apex:column>
		                    <apex:column headerValue="Execution Tracker to be opened" style="text-align:left;">
	                         	<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
<!-- 		                       	<apex:outputPanel rendered="{!!curSIPObj.isMFsipETCreated}"> -->
			                        <apex:selectList rendered="{!IF(curSIPObj.ETStatus == 'Partially Executed' || curSIPObj.ETStatus == 'Fully Executed',false,true)}" value="{!curSIPObj.SIPexecutionTracker}" size="1" styleClass="textStyle" style="width:100px;">
		                                <apex:selectOptions value="{!ExecutionTracker}"/>
		                            </apex:selectList>
		                            <apex:outputText rendered="{!IF(curSIPObj.ETStatus == 'Partially Executed' || curSIPObj.ETStatus == 'Fully Executed',true,false)}" value="{!curSIPObj.SIPexecutionTracker}" style="width:190px;"/>
<!-- 		                        </apex:outputPanel> -->
<!-- 		                        <apex:outputPanel rendered="{!curSIPObj.isMFsipETCreated}" style="font-color:#ED1B24;"> -->
<!-- 	                                <apex:outputLabel value="Already Created" style="width:80px;font-size:11px;font-weight:bold;font-color:#ED1B24;text-align:center;"/>   -->
<!-- 	                            </apex:outputPanel> -->
		                    </apex:column>
		                    <apex:column headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;">
			                    <apex:outputText value="{!curSIPObj.ETStatus}" />
			                </apex:column>
		                </apex:pageBlockTable>
		                <apex:pageBlockSectionItem >
		           			<apex:outputText value="Remarks: " style="text-align:left;"/>
		           			<apex:inputTextArea value="{!mfSIPRemark}" style="width:300px;height:55px;"/>
		           		</apex:pageBlockSectionItem>
		            </div>
	            </apex:pageBlockSection>
             
             
<!-- =============================================================CURRENT GOLD AND SILVER - RUNNING SIPs=============================================        	 -->
        	
        		<apex:pageBlockSection title="GOLD AND SILVER - RUNNING SIPs" columns="1" id="section12">
	                
	                <div style="margin-left:50px;">
		                <apex:pageBlockTable value="{!beanObj.lstSIPCurrentgOLD}" var="curSIPObj" styleClass="required" style="margin-left:48px;width:900px;">
		                    <apex:column headerValue="Asset Name" width="15%">
		                        <apex:outputText value="{!curSIPObj.schemeName}" style="width:100px;"/>
		                    </apex:column>
		                    <apex:column headerValue="Asset Class" width="15%">
		                        <apex:outputText value="{!curSIPObj.assetClass}" style="width:180px;"/>
		                    </apex:column>
		                    <apex:column headerValue="Current SIP" style="text-align:right; padding-right: 15px;" width="10%">
		                    	<apex:outputText value="{!curSIPObj.currentSIP}"/>
		                    </apex:column>
		                    <apex:column headerValue="Owner" width="17%">
		                        <apex:outputText value="{!curSIPObj.owner}" style="width:190px;"/>
		                    </apex:column>
		                    <apex:column headerValue="SIP Action" style="text-align:left;" width="15%">
		                        <apex:selectList rendered="{!IF(curSIPObj.ETStatus == 'Partially Executed' || curSIPObj.ETStatus == 'Fully Executed',false,true)}" value="{!curSIPObj.SIPaction}" size="1" styleClass="textStyle" style="width:100px;">
		                              <apex:selectOptions value="{!sipActions}"/>
		                        </apex:selectList>
		                        <apex:outputText rendered="{!IF(curSIPObj.ETStatus == 'Partially Executed' || curSIPObj.ETStatus == 'Fully Executed',true,false)}" value="{!curSIPObj.SIPaction}" style="width:190px;"/>
		                    </apex:column>
		                    <apex:column headerValue="Action Amount" >
		                        <apex:inputText onfocus="funcCall(this,'{!curSIPObj.ETStatus}','{!curSIPObj.schemeName}','GS SIP')"  onblur="OnBlurFuncCall(this)" value="{!curSIPObj.SIPactionAmount}" rendered="{!IF(curSIPObj.ETStatus != 'Fully Executed',true,false)}" style="text-align:right;width:70px;"/>
		                        <apex:outputText rendered="{!IF(curSIPObj.ETStatus == 'Fully Executed',true,false)}" value="{!curSIPObj.SIPactionAmount}" style="width:190px;"/>
		                    </apex:column>
		                    <apex:column headerValue="Execution Tracker to be opened" style="text-align:left;">
	                         	<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
<!-- 		                       	<apex:outputPanel rendered="{!!curSIPObj.isGSsipETCreated}"> -->
			                        <apex:selectList rendered="{!IF(curSIPObj.ETStatus == 'Partially Executed' || curSIPObj.ETStatus == 'Fully Executed',false,true)}" value="{!curSIPObj.SIPexecutionTracker}" size="1" styleClass="textStyle" style="width:100px;">
		                                <apex:selectOptions value="{!ExecutionTracker}"/>
		                            </apex:selectList>
		                             <apex:outputText rendered="{!IF(curSIPObj.ETStatus == 'Partially Executed' || curSIPObj.ETStatus == 'Fully Executed',true,false)}" value="{!curSIPObj.SIPexecutionTracker}" style="width:190px;"/>
<!-- 		                        </apex:outputPanel> -->
<!-- 		                        <apex:outputPanel rendered="{!curSIPObj.isGSsipETCreated}" style="font-color:#ED1B24;"> -->
<!-- 	                                <apex:outputLabel value="Already Created" style="width:80px;font-size:11px;font-weight:bold;font-color:#ED1B24;text-align:center;"/>   -->
<!-- 	                            </apex:outputPanel> -->
		                    </apex:column>
		                    <apex:column headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;">
			                    <apex:outputText value="{!curSIPObj.ETStatus}" />
			                </apex:column>
		                </apex:pageBlockTable>
		                <apex:pageBlockSectionItem >
		           			<apex:outputText value="Remarks: " style="text-align:left;"/>
		           			<apex:inputTextArea value="{!gsSIPRemark}" style="width:300px;height:55px;"/>
		           		</apex:pageBlockSectionItem>
		            </div>
	            </apex:pageBlockSection>
	            
             
	            <!--   					Date : 11-02-2013  Action Plan  : Prajakta Sanap -->                   
<!--                 <apex:outputPanel rendered="{!isDisplaySaveButton}"> 	 -->
	             <apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">
<!-- 	             	<apex:outputPanel rendered="{!isSave}" id="displaySave"> -->
	            		<apex:commandButton value="Save" Action="{!saveActionPlan}"  style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" 
	                               onclick="if(!confirm('Do you want to continue?')){return false;}" rendered="{!Not(blnIsETAlreadyGenerated)}" rerender="pageBlockSection1,Pagemsg,Pagemsg1" status="statusIdGS"/>
<!-- 	            	</apex:outputPanel> -->
					<apex:actionStatus stopText="" id="statusIdGS">
	                	<apex:facet name="start">
	               			<apex:outputPanel style="padding-left:1%;padding-top:2px;">
	                    		<img src="/img/loading.gif" width="16" height="16"/>
							</apex:outputPanel>
	                	</apex:facet>
	           		</apex:actionStatus> 
            	</apex:outputPanel>
            	
            	 
            
            </apex:pageBlockSection>
         </apex:outputPanel>   
<!--            </apex:pageBlockSection>  -->
            
		<!-- 	 ===================================================================================================== -->

		<apex:outputPanel id="GoalDetailsPannel">
		    <apex:pageBlockSection title="GOALWISE ADVICE" collapsible="true" columns="1" id="section7">
		    
			<!-- 	 =========================Emergency Funds============================== -->	    
		    
		    <apex:pageBlockSection title="{!beanObj.objEmergencyFundGoalDetails.description}" columns="1" collapsible="true" id="section11">
					
				<div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">Goal Details</div>
					<apex:pageBlockSection collapsible="false" columns="6">
			        	
			        	<apex:pageBlockTable value="{!beanObj.objEmergencyFundGoalDetails}" var="goal" width="120%" 
			        						id="MyTable_001" styleClass="style,required" style="margin-left:48px;width:800px;">
			        	
			        		<apex:column headerValue="Start Year" width="15%">
		                        <apex:outputText value="{!goal.startYear}" style="text-align:center;width:100px;"/>
		                    </apex:column>
		                    <apex:column headerValue="End Year" width="15%">
		                        <apex:outputText value="{!goal.endYear}"/>
		                    </apex:column>
		                    <apex:column headerValue="Annual Cost of Goal" width="15%">
		                        <apex:outputText value="{!TEXT(goal.annualGoalCost)}"/>
		                    </apex:column>
		                    <apex:column headerValue="Risk Profile" width="20%">
		                        <apex:outputText value="{!goal.goalProfile}"/>
		                    </apex:column>
		                    <apex:column headerValue="Remarks" width="30%">
		                        <apex:outputText value="{!goal.remark}"/>
		                    </apex:column>
	                    </apex:pageBlockTable> 
                   	</apex:pageBlockSection>
		    
		    
		    <!-- 	========================================================Emergency=========Assets Allocated====================================================         -->

<!-- 					<apex:outputPanel rendered="{!IF(beanObj.objEmergencyFundGoalDetails.lstAssests.size>0,true,false)}" > -->
					<div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">Assets Allocated</div>
			        	<apex:pageBlockSection collapsible="false" columns="12">
			        	
				        	<apex:pageBlockTable value="{!beanObj.objEmergencyFundGoalDetails.lstAssests}" width="80%" var="allocatedAssets" 
				        							styleClass="required" style="margin-left:48px; width:800px;">
				        	
				        		<apex:column headerValue="Type" width="15%">
			                        <apex:outputText value="{!allocatedAssets.Type}"/>
			                        <apex:facet name="footer"><apex:outputText value="Total" /></apex:facet>
			                    </apex:column>
			                    <apex:column headerValue="Description" width="15%">
			                        <apex:outputText value="{!allocatedAssets.Description}" style="width:200px;"/>
			                    </apex:column>
			                    <apex:column headerValue="Owner" style="width:80px;">
			                        <apex:outputText value="{!allocatedAssets.owner}"/>
			                    </apex:column>
			                    <apex:column headerValue="Allocated Amount" style="text-align:right;">
	                    			<apex:outputText value="{0, number, ,##,##0}" style="text-align:right;">
	                                     <apex:param value="{!allocatedAssets.allocatedAmount}"/>
	                                </apex:outputText>
	                                <apex:facet name="footer">
                                    	<apex:outputText value="{0, number, ,##,##0}" style="float:right;padding-right:" styleClass="required">
                                             <apex:param value="{!beanObj.objEmergencyFundGoalDetails.AssetsTotal}"/>
                                    	</apex:outputText>
                                    </apex:facet>
			                    </apex:column>
			                    <apex:column headerValue="Expected Growth rate" style="text-align:center;" width="15%">
									  <apex:outputText value="{0, number, ##,##0.00}%" rendered="{!((if(allocatedAssets.Type=='Mutual Fund' || allocatedAssets.action=='Liquidate (Align to goal)',false,true)))}">
                                         <apex:param value="{!allocatedAssets.expectedGrowthRate}"/>
                                      </apex:outputText>
                                      <apex:outputText value="{0, number, ##,##0.00}%" rendered="{!((if(allocatedAssets.Type=='Mutual Fund' ||allocatedAssets.action=='Liquidate (Align to goal)',true,false)))}">
                                         <apex:param value="{!beanObj.objEmergencyFundGoalDetails.IRR}"/>
                                      </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Goal Year Value" style="text-align:center;">
			                        <apex:outputText value="{0, number, ,##,##0}" >
	                                     <apex:param value="{!allocatedAssets.goalYearValue}"/>
	                                </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Action to be taken" width="20%">
			                        <apex:outputText value="{!allocatedAssets.action}"/>
			                    </apex:column>
		                     </apex:pageBlockTable> 
		                     
	                    </apex:pageBlockSection>
<!--                     </apex:outputPanel> -->

 <!-- =====================================================================Recommended Products for MF of EMergency fund================================================================== -->  
				        			
	        		<div class="subHeader" style="width:30%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">Recommended Products for SIP and Lumpsum</div>
			        
			        <apex:outputPanel id="displayDefaultProducts" style="margin-left:58px;font-weight:bold;">
						<apex:outputText value="Display Default Products in PDF ? " />
						<apex:inputCheckbox value="{!beanObj.objEmergencyFundGoalDetails.dispDefaultProduct}" id="dispDP"/>
					</apex:outputPanel>
			        <apex:pageBlockSection collapsible="false" columns="6">
			        	<apex:repeat value="{!mapMutualFundTosetProducts}" var="curLumpMap"> 
<!-- 			        		<apex:variable var="rowCount" value="{!1}"/> -->
			        		<apex:pageBlockTable value="{!mapMutualFundTosetProducts[curLumpMap]}" var="curLumpObj" styleClass="required" style="margin-left:48px;">
				        		
<!-- 				        		<apex:column style="text-align:left;"> -->
<!-- 				        			<apex:facet name="header">Sequence<br/> No.</apex:facet> -->
<!-- 				        			<apex:outputText value="{!rowCount}" /> -->
<!-- 			                        <apex:variable var="rowCount" value="{!rowCount + 1}"/> -->
<!-- 			                    </apex:column> -->
				        		<apex:column style="text-align:left;">
				        			<apex:facet name="header">{!curLumpMap}</apex:facet>
			                        <apex:outputText value="{!curLumpObj}" />
			                    </apex:column>
			                    
			            	</apex:pageBlockTable>
<!-- 			            	<apex:variable var="rowCount" value="{!1}"/> -->
			            </apex:repeat>
			        </apex:pageBlockSection>
	        
  <!-- =====================================================================SIP================================================================== -->                       
                    
			        	<div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">SIP</div>
			        	<apex:pageBlockSection collapsible="false" columns="6" id="emergenceSIPid">
				        	<apex:pageBlockTable value="{!beanObj.objEmergencyFundGoalDetails}" var="goal" styleClass="required" style="margin-left:48px;width:800px;">
				        	
				        		<apex:column headerValue="SIP" style="text-align:right; padding-right:15px;" width="20%">
			                        <apex:outputText value="{0, number, ,##,##0}" >
                                         <apex:param value="{!beanObj.objEmergencyFundGoalDetails.SIP}"/>
                                    </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Equity Amount">
			                        <apex:inputText value="{!beanObj.objEmergencyFundGoalDetails.equityAmt}" style="width:70px;text-align:right; padding-right:15px;;"/>
			                    </apex:column>
			                    <apex:column headerValue="Equity(%)" style="text-align:right; padding-right:15px;">
			                        <apex:outputText value="{0, number,0.000}" >
                                             <apex:param value="{!beanObj.objEmergencyFundGoalDetails.equityPerc}"/>
                                      </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Debt Amount" >
			                        <apex:inputText value="{!beanObj.objEmergencyFundGoalDetails.debtAmt}" style="width:70px;text-align:right; padding-right:15px;;"/>
			                    </apex:column>
			                    <apex:column headerValue="Debt(%)" style="text-align:right; padding-right:15px;">
			                        <apex:outputText value="{0, number,0.000}" >
                                             <apex:param value="{!beanObj.objEmergencyFundGoalDetails.debtPerc}"/>
                                      </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Gold Amount">
			                        <apex:inputText value="{!beanObj.objEmergencyFundGoalDetails.goldAmt}" style="width:70px;text-align:right; padding-right:15px;;"/>
			                    </apex:column>
			                    <apex:column headerValue="Gold(%)" style="text-align:right; padding-right:15px;">
			                        <apex:outputText value="{0, number,0.000}" >
                                             <apex:param value="{!beanObj.objEmergencyFundGoalDetails.goldPerc}"/>
                                      </apex:outputText>
			                    </apex:column>
		                     </apex:pageBlockTable>   
	                    </apex:pageBlockSection>
	        
	        <!-- =====================================================================SIP Funds================================================================== -->                         
                 
                 <apex:outputPanel id="pageBlockSection2">   
			        <div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">SIP Funds</div>
			        <apex:outputPanel id="SipFundOutputPannel" >
			        	<apex:pageBlockSection collapsible="false" columns="6">
				        	<apex:pageBlockTable value="{!beanObj.objEmergencyFundGoalDetails.lstSIPFunds}" var="lstSIPFunds" 
				        				styleClass="required" style="margin-left:48px;width:800px;">
				        	
				        		<apex:column headerValue="Remove" style="text-align:center;">
			                        <apex:inputCheckbox rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed' || lstSIPFunds.ETStatus == 'Not Executed',false,true)}" value="{!lstSIPFunds.isRemove}" id="checkedone"/>
			                        <apex:facet name="footer"><apex:outputText value="Total"/></apex:facet>
			                    </apex:column>
			                    <apex:column headerValue="SIP Funds" style="text-align:left;" width="20%">

			                        <apex:inputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstSIPFunds.productName}" style="text-align:left;" styleClass="inputSIPFunds"/>
			                        <script>
										$(document).ready(function()
								        {
								        	var availableProductName =[{!strProductSIP}];
								        	
								            $(".inputSIPFunds").autocomplete({
								        		source: availableProductName,
											  	select: function(event, ui) 
											  	{
												  	var strVal = ui.item.value;	  
											  	} 
											});		
								        
								        });
									</script>
									<apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.productName}" style="width:190px;text-align:left;"/>
			                    </apex:column>
			                    
			                    <apex:column headerValue="Transaction Type" style="text-align:left;">
			                        <apex:selectList rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstSIPFunds.transactionType}" size="1" style="width:80px;" styleClass="requiredField">
                                        <apex:selectOptions value="{!SIPtransactionType}" ></apex:selectOptions>
                                    </apex:selectList>
                                    <apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.transactionType}" style="width:190px;text-align:left;"/>
			                    </apex:column>
			                    <apex:column headerValue="Amount" >
			                        <apex:inputText onfocus="funcCall(this,'{!lstSIPFunds.ETStatus}','{!lstSIPFunds.productName}','SIP')"  onblur="OnBlurFuncCall(this)" value="{!lstSIPFunds.amount}" rendered="{!IF(lstSIPFunds.ETStatus != 'Fully Executed',true,false)}" style="width:95%;text-align:right;" styleClass="requiredField"/>
			                        <apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.amount}" style="width:190px;"/>
			                        <apex:facet name="footer">
                                    	<apex:outputText value="{0, number, ,##,##0}" style="float:right;" styleClass="textStyle">
                                             <apex:param value="{!beanObj.objEmergencyFundGoalDetails.SIPTotal}"/>
                                    	</apex:outputText>
                                    </apex:facet> 
			                    </apex:column>
			                    <apex:column headerValue="Installments" style="text-align:right;padding-right:15px;">
			                        <apex:inputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstSIPFunds.installments}" style="width:80%;text-align:right;padding-right:15px;" styleClass="requiredField">
                                    </apex:inputText> 
                                    <apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.installments}" style="width:80%;text-align:right;padding-right:15px;"/>
			                    </apex:column>
			                    <apex:column headerValue="Category" style="text-align:left;">
			                        <apex:selectList rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstSIPFunds.category}" size="1" style="width:70px;" styleClass="requiredField">
                                        <apex:selectOptions value="{!assetClass}" ></apex:selectOptions>
                                    </apex:selectList>
                                    <apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.category}" style="width:190px;text-align:left;"/>
			                    </apex:column>
			                    <apex:column headerValue="Options" style="text-align:left;">
			                        <apex:selectList rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstSIPFunds.option}" size="1" style="width:95%;" styleClass="requiredField">
                                        <apex:selectOptions value="{!options}" ></apex:selectOptions>
                                    </apex:selectList>
                                    <apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.option}" style="width:190px;"/>
			                    </apex:column>
			                    <apex:column headerValue="Remark" style="text-align:left;">
			                    	<apex:inputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstSIPFunds.remarks}" style="width:95%;text-align:left;" styleClass="textStyle">
                                    </apex:inputText>
                                    <apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.remarks}" style="width:190px;"/>
                                </apex:column>
			                    <apex:column style="text-align:left;">
			                    	<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
<!-- 			                    	<apex:outputPanel rendered="{!!lstSIPFunds.isETCreated}"> -->
			                        	<apex:selectList rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstSIPFunds.executionTracker}" size="1" styleClass="textStyle" style="width:70px;">
                                            <apex:selectOptions value="{!ExecutionTracker}"></apex:selectOptions>
                                    	</apex:selectList>
                                    	<apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.executionTracker}" style="width:190px;"/>
<!--                                    	</apex:outputPanel>  		 -->
<!--                                     <apex:outputPanel rendered="{!lstSIPFunds.isETCreated}" style="font-color:#ED1B24;"> -->
<!--                                     	<apex:outputLabel value="Already Created" style="width:80px;font-size:11px;font-weight:bold;font-color:#ED1B24;text-align:center;"/>   -->
<!--                                     </apex:outputPanel> -->
			                    </apex:column>
			                    <apex:column headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;">
			                    	<apex:outputText value="{!lstSIPFunds.ETStatus}" />
	                             </apex:column>
		                     </apex:pageBlockTable>  
	                    </apex:pageBlockSection></apex:outputPanel>
	            <!--   					Date : 11-02-2013  Action Plan  : Prajakta Sanap -->                   
<!-- 	                <apex:outputPanel rendered="{!isDisplaySaveButton}">     -->
	               <apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">
<!-- 	                	<apex:outputPanel rendered="{!isSave}"> -->
				            <apex:pageBlockSectionItem >
		                        <apex:commandButton value="Add New SIP Funds"  action="{!addNewSIPFund}" 
		                        					reRender="pageBlockSection2,SipFundOutputPannel,Pagemsg,pageBlockSectionSummary" style="margin-left:400px;" status="statusNewSIPId">
			                                    <apex:param name="addNewGoalId" value="{!beanObj.objEmergencyFundGoalDetails.goalId}"/></apex:commandButton>
			                	<apex:commandButton value="Remove" Action="{!RemoveRecordSIP}" rerender="SipFundOutputPannel,Pagemsg,pageBlockSectionSummary"  
			                					rendered="{!Not(blnIsETAlreadyGenerated)}" status="statusNewSIPId"/>
							</apex:pageBlockSectionItem>
							
							<apex:actionStatus stopText="" id="statusNewSIPId">
		                    		<apex:facet name="start"> 
				                        <apex:outputPanel style="padding-left:50%;">
				                             <img src="/img/loading.gif" width="16" height="16"/>
				                        </apex:outputPanel>
				                    </apex:facet>
		                   </apex:actionStatus>  
<!-- 						</apex:outputPanel> -->
					</apex:outputPanel>
                </apex:outputPanel>		    
		    
		 <!-- ========================================= Lumpsum ====================================== -->                       
			        	
			        	<div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">Lumpsum</div>
			        	<apex:pageBlockSection collapsible="false" columns="6" id="emergenceLumpsumId">
				        	<apex:pageBlockTable value="{!beanObj.objEmergencyFundLumpsum}" var="goalList"  styleClass="required" style="margin-left:48px;width:800px;">
				        	
				        		<apex:column headerValue="Lumpsum" style="text-align:right; padding-right:15px;;" width="20%">
			                        <apex:outputText value="{0, number, ,##,##0}" >
                                             <apex:param value="{!beanObj.objEmergencyFundLumpsum.lumpsum}"/>
                                      </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Equity Amount" >
			                        <apex:inputText value="{!beanObj.objEmergencyFundLumpsum.lumpsumEquityAmt}" style="width:70px;text-align:right; padding-right:15px;"/>
			                    </apex:column>
			                    <apex:column headerValue="Equity(%)" style="text-align:right; padding-right:15px;">
			                        <apex:outputText value="{0, number,0.000}" >
                                             <apex:param value="{!beanObj.objEmergencyFundLumpsum.lumpsumEquityPerc}"/>
                                      </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Debt Amount" >
			                        <apex:inputText value="{!beanObj.objEmergencyFundLumpsum.lumpsumDebtAmt}" style="width:70px;text-align:right; padding-right:15px;" />
			                    </apex:column>
			                    <apex:column headerValue="Debt(%)" style="text-align:right; padding-right:15px;">
			                        <apex:outputText value="{0, number,0.000}" >
                                             <apex:param value="{!beanObj.objEmergencyFundLumpsum.lumpsumDebtPerc}"/>
                                      </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Gold Amount" >
			                        <apex:inputText value="{!beanObj.objEmergencyFundLumpsum.lumpsumGoldAmt}" style="width:70px;text-align:right; padding-right:15px;"/>
			                    </apex:column>
			                    <apex:column headerValue="Gold(%)" style="text-align:right; padding-right:15px;">
			                         <apex:outputText value="{0, number,0.000}" >
                                             <apex:param value="{!beanObj.objEmergencyFundLumpsum.lumpsumGoldPerc}"/>
                                      </apex:outputText>
			                    </apex:column>
		                     </apex:pageBlockTable>   
	                    </apex:pageBlockSection>
	                    
<!-- =====================================================================Lumpsum Funds================================================================== -->        
               
               <apex:outputPanel id="pageBlockSection3">    
                   <apex:actionfunction name="makeRequired" action="{!makeRequiredOnSTPFrom}" rerender="pageBlockSection,Pagemsg"/>
                   <div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">Lumpsum Funds</div>
                   <apex:outputPanel id="LumpsumFundOutputPannel" style="margin-left:100px;">
			        	
			        	<apex:pageBlockSection collapsible="false" columns="6">
				        	<apex:pageBlockTable value="{!beanObj.objEmergencyFundGoalDetails.lstLumpsumFunds}" var="lstLumpsumFunds" 
				        							styleClass="required" style="margin-left:48px;">
				        	
				        		<apex:column headerValue="Remove" style="text-align:center;">
			                        <apex:inputCheckbox rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed' || lstLumpsumFunds.ETStatus == 'Not Executed',false,true)}" value="{!lstLumpsumFunds.isRemove}"/>
			                        <apex:facet name="footer"><apex:outputText value="Total"/></apex:facet>
			                    </apex:column>
			                    <apex:column headerValue="Lumpsum Funds" width="20%">

			                    
<!-- 			                <apex:inputText value="{!lstLumpsumFunds.lumpsumProductName}" style="width:90%;text-align:left;"  -->
<!--                                       							styleClass="{!IF(lstLumpsumFunds.lumpsumTransactionType == 'STP From','requiredField', '')}"/> -->
									<apex:inputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumProductName}" style="width:90%;text-align:left;" styleClass="inputProductLumpsum" />
									
									<script>
										$(document).ready(function()
								        {
								        	var availableProductName =[{!strProductLumpsum}];
								        	
								            $(".inputProductLumpsum").autocomplete({
								        		source: availableProductName,
											  	select: function(event, ui) 
											  	{
												  	var strVal = ui.item.value;	  
											  	} 
											});		
								        
								        });
									</script>
									<apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumProductName}" style="width:190px;text-align:left;"/>
			                    </apex:column>
			                    
			                    <apex:column headerValue="Transaction Type" style="text-align:left;">
			                        <apex:selectList rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumTransactionType}" size="1" style="width:100%;"  onChange="makeRequired();">
                                        <apex:selectOptions value="{!lumpsumTransactionType}" ></apex:selectOptions>
                                    </apex:selectList>
                                    <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumTransactionType}" style="width:190px;"/>
			                    </apex:column>
			                    <apex:column headerValue="Fund" style="text-align:right;">
			                        <apex:inputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumFund}" style="width:95%;text-align:left;" 
																styleClass="{!IF(lstLumpsumFunds.lumpsumTransactionType == 'STP From','requiredField', '')}">
                                      </apex:inputText>  
                                      <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumFund}" style="width:190px;"/>
			                    </apex:column>
			                    
			                    <apex:column headerValue="Amount" style="text-align:right;" >
			                        <apex:inputText value="{!lstLumpsumFunds.lumpsumAmount}" style="width:80%;text-align:right;"
			                        	onfocus="funcCall(this,'{!lstLumpsumFunds.ETStatus}','{!lstLumpsumFunds.lumpsumProductName}','Lumpsum')"  onblur="OnBlurFuncCall(this)" 
	                        						rendered="{!IF(lstLumpsumFunds.ETStatus != 'Fully Executed',true,false)}"  	
                                    				styleClass="{!IF(lstLumpsumFunds.lumpsumTransactionType == 'STP From','requiredField', '')}"/>
                                    <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumAmount}" style="width:190px;"/>
                                    <apex:facet name="footer">
                                    	<apex:outputText value="{0, number, ,##,##0}" style="float:right;" styleClass="text-align:right;">
                                             <apex:param value="{!beanObj.objEmergencyFundGoalDetails.LumpsumTotal}"/>
                                    	</apex:outputText>
                                    </apex:facet>
			                    </apex:column>
			                    <apex:column headerValue="Installments" style="width:80%;text-align:right;padding-right:15px;">
			                        <apex:inputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumInstallments}" style="width:80%;text-align:right;" 
                                      							styleClass="{!IF(lstLumpsumFunds.lumpsumTransactionType == 'STP From','requiredField', '')}">
                                      </apex:inputText>
                                      <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumInstallments}" style="width:80%;text-align:right;"/>
			                    </apex:column>
			                    <apex:column style="width:80%;text-align:right; padding-right:15px;">
			                    	<apex:facet name="header">Amount Per <br/> Installments</apex:facet>
			                        <apex:inputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumAmountPerInstall}" style="width:80%;text-align:right;padding-right:15px;" 
                                      							styleClass="{!IF(lstLumpsumFunds.lumpsumTransactionType == 'STP From','requiredField', '')}">
                                      </apex:inputText> 
                                      <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumAmountPerInstall}" style="width:80%;text-align:right;padding-right:15px;"/>
			                    </apex:column>
			                    <apex:column headerValue="Category" style="text-align:left;">
			                        <apex:selectList rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumCategory}" size="1" style="width:100%;"
                                    						styleClass="{!IF(lstLumpsumFunds.lumpsumTransactionType == 'STP From','requiredField', '')}">
                                        <apex:selectOptions value="{!assetClass}" ></apex:selectOptions>
                                    </apex:selectList>
                                    <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumCategory}" style="width:190px;"/>
			                    </apex:column>
			                    <apex:column headerValue="Option" style="text-align:left;">
			                        <apex:selectList rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumOption}" size="1" style="width:95%;" 
                                    					styleClass="{!IF(lstLumpsumFunds.lumpsumTransactionType == 'STP From','requiredField', '')}">
                                        <apex:selectOptions value="{!options}" ></apex:selectOptions>
                                    </apex:selectList>
                                    <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumOption}" style="width:190px;"/>
			                    </apex:column>
			                    <apex:column headerValue="Remarks" style="text-align:left;">
			                        <apex:inputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumRemarks}" style="width:95%;text-align:left;" styleClass="textStyle">
                                    </apex:inputText>
                                    <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumRemarks}" style="width:190px;"/>
			                    </apex:column>
			                    <apex:column style="text-align:left;">
			                    	<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
<!-- 		                     		<apex:outputPanel rendered="{!!lstLumpsumFunds.isETCreated}"> -->
				                        <apex:selectList rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumExecutionTracker}" size="1" styleClass="textStyle" style="width:100px;">
	                                            <apex:selectOptions value="{!ExecutionTracker}"></apex:selectOptions>
	                                    </apex:selectList>
	                                    <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumExecutionTracker}" style="width:190px;"/>
<!-- 	                               	</apex:outputPanel> -->
<!-- 	                               	<apex:outputPanel rendered="{!lstLumpsumFunds.isETCreated}" style="font-color:#ED1B24;"> -->
<!--                                     	<apex:outputLabel value="Already Created" style="width:80px;font-size:11px;font-weight:bold;font-color:#ED1B24;text-align:center;"/>   -->
<!--                                     </apex:outputPanel> -->
			                    </apex:column>
			                    <apex:column headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;">
			                    	<apex:outputText value="{!lstLumpsumFunds.ETStatus}" />
	                            </apex:column>
		                     </apex:pageBlockTable>  
		                     
	                    </apex:pageBlockSection>
	                  <!--   					Date : 11-02-2013  Action Plan  : Prajakta Sanap -->                   
<!--                 		<apex:outputPanel rendered="{!isDisplaySaveButton}">  -->
                		<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">
<!--                 			<apex:outputPanel rendered="{!isSave}"> -->
			                  	<apex:pageBlockSectionItem >
					                <apex:commandButton value="Add New Lumpsum Funds" style="margin-left:400px;" 
					                                    rendered="{!Not(blnIsETAlreadyGenerated)}"  action="{!addNewLumpsumFund}" 
					                                    reRender="Pagemsg,LumpsumFundOutputPannel,pageBlockSectionSummary" status="statusId1">
					                                    <apex:param name="addNewLumpsumGoalId" value="{!beanObj.objEmergencyFundGoalDetails.goalId}"/></apex:commandButton>
					                <apex:commandButton value="Remove" Action="{!RemoveRecordSIP}" rerender="pageBlockSection3,Pagemsg,pageBlockSectionSummary" 
				                                       rendered="{!Not(blnIsETAlreadyGenerated)}" status="statusId1"/>
				                 </apex:pageBlockSectionItem>
				                  <apex:actionStatus stopText="" id="statusId1">
		                    		<apex:facet name="start"> 
				                        <apex:outputPanel style="padding-left:50%;">
				                             <img src="/img/loading.gif" width="16" height="16"/>
				                        </apex:outputPanel>
				                    </apex:facet>
		                		  </apex:actionStatus>  
<!-- 				            </apex:outputPanel> -->
		                </apex:outputPanel>
		                 <br/>
	<!--   					Date : 11-02-2013  Action Plan  : Prajakta Sanap -->                   
<!--                 	<apex:outputPanel rendered="{!isDisplaySaveButton}">  -->
	              <apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">
<!-- 	                   <apex:outputPanel rendered="{!isSave}" id="displaySave1"> -->
		               		<apex:commandButton value="Save" Action="{!saveActionPlan}"  style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" 
		                                     onclick="if(!confirm('Do you want to continue?')){return false;}" rendered="{!Not(blnIsETAlreadyGenerated)}" 
		                                     rerender="pageBlockSection3,emergenceSIPid,emergenceLumpsumId,Pagemsg,Pagemsg1,LumpsumFundOutputPannel,SipFundOutputPannel,pageBlockSectionSummary" status="statusIdEF"/>
		                	<apex:actionStatus stopText="" id="statusIdEF">
			                    <apex:facet name="start"> 
			                        <apex:outputPanel style="padding-left:50%;">
			                             <img src="/img/loading.gif" width="16" height="16"/>
			                        </apex:outputPanel>
			                    </apex:facet>
		                	</apex:actionStatus>
<!-- 		                </apex:outputPanel> -->
		            </apex:outputPanel>
	               </apex:outputPanel>  
	           </apex:outputPanel>
	           </apex:pageBlockSection>
	<!-- =====================================================================End of Lumpsum Funds================================================================== -->                    
	                                   
		    
		    
		    
<!-- 	=================================================================Goal details==================================================         -->
		    
		    	<apex:repeat value="{!beanObj.lstGoalDetails}" var="goalList">
		    
		        	<apex:pageBlockSection title="{!goalList.description}" columns="1" collapsible="true" id="section11">
					
						<div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">Goal Details</div>
						<div style="margin-left:50px;">
							<apex:pageBlockSection collapsible="false" columns="6">
					        	
					        	<apex:pageBlockTable value="{!goalList}" var="goal" width="120%" styleClass="required" style="margin-left:48px;width:800px;">
					        	
					        		<apex:column headerValue="Start Year" width="15%">
				                        <apex:outputText value="{!goal.startYear}" style="text-align:center;width:100px;"/>
				                    </apex:column>
				                    <apex:column headerValue="End Year" width="15%">
				                        <apex:outputText value="{!goal.endYear}"/>
				                    </apex:column>
				                    <apex:column headerValue="Annual Cost of Goal" width="15%">
				                        <apex:outputText value="{!TEXT(goal.annualGoalCost)}"/>
				                    </apex:column>
				                    <apex:column headerValue="Risk Profile" width="20%">
				                        <apex:outputText value="{!goal.goalProfile}"/>
				                    </apex:column>
				                    <apex:column headerValue="Remarks" width="30%">
				                        <apex:outputText value="{!goal.remark}"/>
				                    </apex:column>
			                    </apex:pageBlockTable> 
	                    	</apex:pageBlockSection>
	        			</div>
	        			
<!-- 	=================================================================Assets Allocated====================================================         -->

					<apex:outputPanel rendered="{!IF(goalList.lstAssests.size>0,true,false)}" >
					<div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">Assets Allocated</div>
			        	<apex:pageBlockSection collapsible="false" columns="12">
			        	
				        	<apex:pageBlockTable value="{!goalList.lstAssests}" width="80%" var="allocatedAssets" styleClass="required" style="margin-left:48px;width:800px;">
				        	
				        		<apex:column headerValue="Type" width="15%">
			                        <apex:outputText value="{!allocatedAssets.Type}"/>
			                        <apex:facet name="footer"><apex:outputText value="Total"/></apex:facet>
			                    </apex:column>
			                    <apex:column headerValue="Description" width="15%">
			                        <apex:outputText value="{!allocatedAssets.Description}" style="width:200px;"/>
			                    </apex:column>
			                    <apex:column headerValue="Owner" style="width:80px;">
			                        <apex:outputText value="{!allocatedAssets.owner}"/>
			                    </apex:column>
			                    <apex:column headerValue="Allocated Amount" style="text-align:right;">
	                    			<apex:outputText value="{0, number, ,##,##0}" style="text-align:right;">
	                                     <apex:param value="{!allocatedAssets.allocatedAmount}"/>
	                                </apex:outputText>
	                                <apex:facet name="footer">
                                    	<apex:outputText value="{0, number, ,##,##0}" style="float:right;" styleClass="textStyle">
                                             <apex:param value="{!goalList.AssetsTotal}"/>
                                    	</apex:outputText>
                                    </apex:facet>
			                    </apex:column>
			                    <apex:column headerValue="Expected Growth rate" style="text-align:center;">
								 	 <apex:outputText value="{0, number, ##,##0.00}%" rendered="{!((if(allocatedAssets.Type=='Mutual Fund' || allocatedAssets.action=='Liquidate (Align to goal)',false,true)))}">
                                        <apex:param value="{!allocatedAssets.expectedGrowthRate}"/>
                                     </apex:outputText>
                                     <apex:outputText value="{0, number, ##,##0.00}%" rendered="{!((if(allocatedAssets.Type=='Mutual Fund' ||allocatedAssets.action=='Liquidate (Align to goal)',true,false)))}">
                                        <apex:param value="{!goalList.IRR}"/>
                                     </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Goal Year Value" style="text-align:center;">
			                        <apex:outputText value="{0, number, ,##,##0}" >
	                                     <apex:param value="{!allocatedAssets.goalYearValue}"/>
	                                </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Action to be taken" width="20%">
			                        <apex:outputText value="{!allocatedAssets.action}"/>
			                    </apex:column>
		                     </apex:pageBlockTable> 
		                     
	                    </apex:pageBlockSection>
                    </apex:outputPanel>
	        
	        <!-- =====================================================================Recommended Products for MF================================================================== -->  
				        			
	        		<div class="subHeader" style="width:30%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">Recommended Products for SIP and Lumpsum</div>
			        
			        <apex:outputPanel id="displayDefaultProducts" style="margin-left:58px;font-weight:bold;">
						<apex:outputText value="Display Default Products in PDF ? " />
						<apex:inputCheckbox value="{!goalList.dispDefaultProduct}" id="dispDP"/>
					</apex:outputPanel>
			        
			        <apex:pageBlockSection collapsible="false" columns="6">
			        	<apex:repeat value="{!mapMutualFundTosetProducts}" var="curLumpMap"> 
			        		<apex:pageBlockTable value="{!mapMutualFundTosetProducts[curLumpMap]}" var="curLumpObj" styleClass="required" style="margin-left:48px;">
				        		<apex:column style="text-align:left;">
				        			<apex:facet name="header">{!curLumpMap}</apex:facet>
			                        <apex:outputText value="{!curLumpObj}" />
			                    </apex:column>
			            	</apex:pageBlockTable>
			            </apex:repeat>
			        </apex:pageBlockSection>
			             
	        <!-- =====================================================================SIP================================================================== -->                       
                    
			        	<div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">SIP</div>
			        	<apex:pageBlockSection collapsible="false" columns="6">
				        	<apex:pageBlockTable value="{!goalList}" var="goalList" styleClass="required" style="margin-left:48px;width:800px;">
				        	
				        		<apex:column headerValue="SIP" style="text-align:center;" width="20%">
			                        <apex:outputText value="{0, number, ,##,##0}" >
                                    	<apex:param value="{!goalList.SIP}"/>
                                    </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Equity Amount" style="text-align:center;">
			                        <apex:outputText value="{0, number, ,##,##0}" >
                                    	<apex:param value="{!goalList.equityAmt}"/>
                                    </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Equity(%)" style="text-align:center;">
			                        <apex:outputText value="{0, number,0.000}" >
                                        <apex:param value="{!goalList.equityPerc}"/>
                                    </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Debt Amount" style="text-align:center;">
			                        <apex:outputText value="{0, number, ,##,##0}" >
                                        <apex:param value="{!goalList.debtAmt}"/>
                                    </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Debt(%)" style="text-align:center;">
			                        <apex:outputText value="{0, number,0.000}" >
                                    	<apex:param value="{!goalList.debtPerc}"/>
                                    </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Gold Amount" style="text-align:center;">
			                        <apex:outputText value="{0, number, ,##,##0}" >
                                    	<apex:param value="{!goalList.goldAmt}"/>
                                    </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Gold(%)" style="text-align:center;">
			                        <apex:outputText value="{0, number,0.000}" >
                                    	<apex:param value="{!goalList.goldPerc}"/>
                                    </apex:outputText>
			                    </apex:column>
		                     </apex:pageBlockTable>   
	                    </apex:pageBlockSection>
	        
	        <!-- =====================================================================SIP Funds================================================================== -->                         
                 <apex:outputPanel id="pageBlockSection4">   
			        <div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">SIP Funds</div>
			        <apex:outputPanel id="SipFundOutputPannel">
			        	<apex:pageBlockSection collapsible="false" columns="6">
				        	<apex:pageBlockTable value="{!goalList.lstSIPFunds}" var="lstSIPFunds" styleClass="required" style="margin-left:48px;width:800px;">
				        	
				        		<apex:column headerValue="Remove" style="text-align:center;">
			                        <apex:inputCheckbox rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed' || lstSIPFunds.ETStatus == 'Not Executed',false,true)}" value="{!lstSIPFunds.isRemove}" id="checkedone"/>
			                        <apex:facet name="footer"><apex:outputText value="Total"/></apex:facet>
			                    </apex:column>
			                    <apex:column headerValue="SIP Funds" style="text-align:left;" width="20%">

			                        <apex:inputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstSIPFunds.productName}" style="text-align:left;" styleClass="inputSIPFunds"/>
		                        	<script>
										$(document).ready(function()
								        {
								        	var availableProductName =[{!strProductSIP}];
								        	
								            $(".inputSIPFunds").autocomplete({
								        		source: availableProductName,
											  	select: function(event, ui) 
											  	{
												  	var strVal = ui.item.value;	  
											  	} 
											});		
								        
								        });
									</script>
									<apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.productName}" style="width:190px;text-align:left;"/>
			                    </apex:column>
			                    <apex:column headerValue="Transaction Type" style="text-align:left;">
			                        <apex:selectList rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstSIPFunds.transactionType}" size="1" style="width:80px" styleClass="requiredField">
                                        <apex:selectOptions value="{!SIPtransactionType}" ></apex:selectOptions>
                                    </apex:selectList>
                                    <apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.transactionType}" style="width:190px;text-align:left;"/>
			                    </apex:column>
			                    <apex:column headerValue="Amount">
			                        <apex:inputText onfocus="funcCall(this,'{!lstSIPFunds.ETStatus}','{!lstSIPFunds.productName}','SIP')"  onblur="OnBlurFuncCall(this)" value="{!lstSIPFunds.amount}" rendered="{!IF(lstSIPFunds.ETStatus != 'Fully Executed',true,false)}" style="width:95%;text-align:right;" styleClass="requiredField"/>
			                        <apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.amount}" style="width:190px;"/>
                                    <apex:facet name="footer">
                                    	<apex:outputText value="{0, number, ,##,##0}" style="float:right;" styleClass="textStyle">
                                             <apex:param value="{!goalList.SIPTotal}"/>
                                    	</apex:outputText>
                                    </apex:facet> 
			                    </apex:column>
			                    <apex:column headerValue="Installments" style="text-align:right;padding-right:15px;">
			                        <apex:inputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstSIPFunds.installments}" style="width:80%;text-align:right;padding-right:15px;" styleClass="requiredField">
                                      </apex:inputText>
                                      <apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.installments}" style="width:190px;text-align:left;"/> 
			                    </apex:column>
			                    <apex:column headerValue="Category" style="text-align:left;">
			                        <apex:selectList rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstSIPFunds.category}" size="1" style="width:70px;" styleClass="requiredField">
                                        <apex:selectOptions value="{!assetClass}" ></apex:selectOptions>
                                    </apex:selectList>
                                    <apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.category}" style="width:190px;text-align:left;"/>
			                    </apex:column>
			                    <apex:column headerValue="Options" style="text-align:left;">
			                        <apex:selectList rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstSIPFunds.option}" size="1" style="width:95%;" styleClass="requiredField">
                                        <apex:selectOptions value="{!options}" ></apex:selectOptions>
                                    </apex:selectList>
                                    <apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.option}" style="width:190px;text-align:left;"/>
			                    </apex:column>
			                    <apex:column headerValue="Remark" style="text-align:left;">
			                    	<apex:inputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstSIPFunds.remarks}" style="width:95%;text-align:left;" styleClass="textStyle">
                                    </apex:inputText>
                                    <apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.remarks}" style="width:190px;text-align:left;"/>
                                </apex:column>
			                    <apex:column style="text-align:left;">
			                    	<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
<!-- 			                    	<apex:outputPanel rendered="{!!lstSIPFunds.isETCreated}"> -->
				                        <apex:selectList rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstSIPFunds.executionTracker}" size="1" styleClass="textStyle" style="width:100px;">
	                                            <apex:selectOptions value="{!ExecutionTracker}"></apex:selectOptions>
	                                    </apex:selectList>
	                                    <apex:outputText rendered="{!IF(lstSIPFunds.ETStatus == 'Partially Executed' || lstSIPFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstSIPFunds.executionTracker}" style="width:190px;text-align:left;"/>
<!-- 	                                </apex:outputPanel> -->
<!--                                    	<apex:outputPanel rendered="{!lstSIPFunds.isETCreated}" style="font-color:#ED1B24;"> -->
<!--                                     	<apex:outputLabel value="Already Created" style="width:80px;font-size:11px;font-weight:bold;font-color:#ED1B24;text-align:center;"/>   -->
<!--                                     </apex:outputPanel> -->
			                    </apex:column>
			                    <apex:column headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;">
			                    	<apex:outputText value="{!lstSIPFunds.ETStatus}" />
	                            </apex:column>
		                     </apex:pageBlockTable>  
	                    </apex:pageBlockSection>
	                    </apex:outputPanel>
	                    
<!--   					Date : 11-02-2013  Action Plan  : Prajakta Sanap -->                   
<!--                 		<apex:outputPanel rendered="{!isDisplaySaveButton}"> -->
						<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">
<!--                 			<apex:outputPanel rendered="{!isSave}">  -->
			                    <apex:pageBlockSectionItem >
					                <apex:commandButton value="Add New SIP Funds" style="margin-left:400px;" 
					                                    rendered="{!Not(blnIsETAlreadyGenerated)}"  action="{!addNewSIPFund}" 
					                                    reRender="Pagemsg,SipFundOutputPannel" status="statusSIPId">
					                                    <apex:param name="addNewGoalId" value="{!goalList.goalId}"/></apex:commandButton>
					                <apex:commandButton value="Remove" Action="{!RemoveRecordSIP}" rerender="pageBlockSection4,pageBlockSectionSummary,Pagemsg" 
					                                       rendered="{!Not(blnIsETAlreadyGenerated)}" status="statusSIPId"/>
				                </apex:pageBlockSectionItem>
				                <apex:actionStatus stopText="" id="statusSIPId">
							            <apex:facet name="start">                
							            	<apex:outputPanel style="padding-left:1%;">
							                	<img src="/img/loading.gif" width="16" height="16"/>
							                </apex:outputPanel>
							            </apex:facet>
						        </apex:actionStatus>    
<!-- 				            </apex:outputPanel> -->
			            </apex:outputPanel>
	                </apex:outputPanel>    
	                    
	               
            
<!-- =====================================================================Lumpsum================================================================== -->                       
			        	
			        	<div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">Lumpsum</div>
			        	<apex:pageBlockSection collapsible="false" columns="6">
				        	<apex:pageBlockTable value="{!goalList}" var="goalList"  styleClass="required" style="margin-left:48px;width:800px;">
				        	
				        		<apex:column headerValue="Lumpsum" style="text-align:center;" width="20%">
			                        <apex:outputText value="{0, number, ,##,##0}" >
                                         <apex:param value="{!goalList.lumpsum}"/>
                                    </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Equity Amount" style="text-align:center;">
			                        <apex:outputText value="{0, number, ,##,##0}" >
                                    	<apex:param value="{!goalList.lumpsumEquityAmt}"/>
                                    </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Equity(%)" style="text-align:center;">
			                        <apex:outputText value="{0, number,0.000}" >
                                    	<apex:param value="{!goalList.lumpsumEquityPerc}"/>
                                    </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Debt Amount" style="text-align:center;">
			                        <apex:outputText value="{0, number, ,##,##0}" >
                                    	<apex:param value="{!goalList.lumpsumDebtAmt}"/>
                                    </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Debt(%)" style="text-align:center;">
			                        <apex:outputText value="{0, number,0.000}" >
                                        <apex:param value="{!goalList.lumpsumDebtPerc}"/>
                                    </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Gold Amount" style="text-align:center;">
			                        <apex:outputText value="{0, number, ,##,##0}" >
                                    	<apex:param value="{!goalList.lumpsumGoldAmt}"/>
                                    </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Gold(%)" style="text-align:center;">
			                        <apex:outputText value="{0, number,0.000}" >
                                    	<apex:param value="{!goalList.lumpsumGoldPerc}"/>
                                    </apex:outputText>
			                    </apex:column>
		                     </apex:pageBlockTable>   
	                    </apex:pageBlockSection>
	                    
<!-- =====================================================================Lumpsum Funds================================================================== -->                         
                <apex:outputPanel id="pageBlockSection5">   
                   <div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">Lumpsum Funds</div>
                   <apex:outputPanel id="LumpsumFundOutputPannel" style="margin-left:100px;">
			        	
			        	<apex:pageBlockSection collapsible="false" columns="6">
				        	<apex:pageBlockTable value="{!goalList.lstLumpsumFunds}" var="lstLumpsumFunds" styleClass="required" style="margin-left:48px;">
				        	
				        		<apex:column headerValue="Remove" style="text-align:center;">
			                        <apex:inputCheckbox rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed' || lstLumpsumFunds.ETStatus == 'Not Executed',false,true)}" value="{!lstLumpsumFunds.isRemove}"/>
			                        <apex:facet name="footer"><apex:outputText value="Total"/></apex:facet>
			                    </apex:column>
			                    <apex:column headerValue="Lumpsum Funds" width="20%">

			                        <apex:inputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumProductName}" style="width:90%;text-align:left;" 
                                      							styleClass="inputlumpsumFunds" />
                                      
                                    <script>
										$(document).ready(function()
								        {
								        	var availableProductName =[{!strProductLumpsum}];
								        	
								            $(".inputlumpsumFunds").autocomplete({
								        		source: availableProductName,
											  	select: function(event, ui) 
											  	{
												  	var strVal = ui.item.value;	  
											  	} 
											});		
								        
								        });
									</script>  
									<apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumProductName}" style="width:190px;text-align:left;"/>
			                    </apex:column>
			                    
			                    <apex:column headerValue="Transaction Type" style="text-align:left;">
			                        <apex:selectList rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumTransactionType}" size="1" style="width:100%;"  onChange="makeRequired();">
                                        <apex:selectOptions value="{!lumpsumTransactionType}" ></apex:selectOptions>
                                    </apex:selectList>
                                    <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumTransactionType}" style="width:190px;text-align:left;"/>
			                    </apex:column>
			                    <apex:column headerValue="Fund">
			                        <apex:inputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumFund}" style="width:95%;text-align:right;" 
																styleClass="{!IF(lstLumpsumFunds.lumpsumTransactionType == 'STP From','requiredField', '')}">
                                    </apex:inputText>
                                    <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumFund}" style="width:190px;text-align:right;"/>  
			                    </apex:column>
			                    <apex:column headerValue="Amount">
			                        <apex:inputText value="{!lstLumpsumFunds.lumpsumAmount}" style="width:80%;text-align:right;" 	
			                        onfocus="funcCall(this,'{!lstLumpsumFunds.ETStatus}','{!lstLumpsumFunds.lumpsumProductName}','Lumpsum')"  onblur="OnBlurFuncCall(this)" 
                                      		rendered="{!IF(lstLumpsumFunds.ETStatus != 'Fully Executed',true,false)}" 
                                      		styleClass="{!IF(lstLumpsumFunds.lumpsumTransactionType == 'STP From','requiredField', '')}">
                                    </apex:inputText>
                                    <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumAmount}" style="width:190px;"/>
                                    <apex:facet name="footer">
                                    	<apex:outputText value="{0, number, ,##,##0}" style="float:right;" styleClass="textStyle">
                                             <apex:param value="{!goalList.LumpsumTotal}"/>
                                    	</apex:outputText>
                                    </apex:facet>
			                    </apex:column>
			                    <apex:column headerValue="Installments" style="width:50px;text-align:right;padding-right:15px;">
			                        <apex:inputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumInstallments}" style="width:50px;text-align:right;padding-right:15px;" 
                                      							styleClass="{!IF(lstLumpsumFunds.lumpsumTransactionType == 'STP From','requiredField', '')}">
                                      </apex:inputText>
                                      <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumInstallments}" style="width:50px;text-align:left;"/>
			                    </apex:column>
			                    <apex:column style="width:60px;text-align:right; padding-right:15px;">
			                    	<apex:facet name="header">Amount Per <br/> Installments</apex:facet>
			                        <apex:inputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumAmountPerInstall}" style="width:60px;text-align:right; padding-right:15px;"
                                      							styleClass="{!IF(lstLumpsumFunds.lumpsumTransactionType == 'STP From','requiredField', '')}">
                                      </apex:inputText> 
                                      <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumAmountPerInstall}" style="width:60px;text-align:right; padding-right:15px;"/>
			                    </apex:column>
			                    <apex:column headerValue="Category" style="text-align:left;">
			                        <apex:selectList rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumCategory}" size="1" style="width:100%;"
                                    						styleClass="{!IF(lstLumpsumFunds.lumpsumTransactionType == 'STP From','requiredField', '')}">
                                        <apex:selectOptions value="{!assetClass}" ></apex:selectOptions>
                                    </apex:selectList>
                                    <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumCategory}" style="width:190px;text-align:left;"/>
			                    </apex:column>
			                    <apex:column headerValue="Option" style="text-align:left;">
			                        <apex:selectList rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumOption}" size="1" style="width:95%;" 
                                    					styleClass="{!IF(lstLumpsumFunds.lumpsumTransactionType == 'STP From','requiredField', '')}">
                                        <apex:selectOptions value="{!options}" />
                                    </apex:selectList>
                                    <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumOption}" style="width:190px;text-align:left;"/>
			                    </apex:column>
			                    <apex:column headerValue="Remarks" style="text-align:left;">
			                        <apex:inputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumRemarks}" style="width:95%;text-align:left;" styleClass="textStyle">
                                    </apex:inputText>
                                    <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumRemarks}" style="width:190px;text-align:left;"/>
			                    </apex:column>
			                    <apex:column style="text-align:left;">
			                    	<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
<!-- 			                    	<apex:outputPanel rendered="{!!lstLumpsumFunds.isETCreated}"> -->
				                        <apex:selectList rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',false,true)}" value="{!lstLumpsumFunds.lumpsumExecutionTracker}" size="1" styleClass="textStyle" style="width:100px;">
	                                            <apex:selectOptions value="{!ExecutionTracker}"></apex:selectOptions>
	                                    </apex:selectList>
	                                    <apex:outputText rendered="{!IF(lstLumpsumFunds.ETStatus == 'Partially Executed' || lstLumpsumFunds.ETStatus == 'Fully Executed',true,false)}" value="{!lstLumpsumFunds.lumpsumExecutionTracker}" style="width:190px;text-align:left;"/>
<!--                                     </apex:outputPanel> -->
<!--                                     <apex:outputPanel rendered="{!lstLumpsumFunds.isETCreated}" style="font-color:#ED1B24;"> -->
<!-- 	                                    	<apex:outputLabel value="Already Created" style="width:80px;font-size:11px;font-weight:bold;font-color:#ED1B24;text-align:center;"/>   -->
<!--                                     </apex:outputPanel> -->
			                    </apex:column>
			                    <apex:column headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;">
			                    	<apex:outputText value="{!lstLumpsumFunds.ETStatus}" />
	                            </apex:column>
		                     </apex:pageBlockTable>   
	                    </apex:pageBlockSection>
	                </apex:outputPanel>
	               		<!--   					Date : 11-02-2013  Action Plan  : Prajakta Sanap -->                   
<!--                 		<apex:outputPanel rendered="{!isDisplaySaveButton}">  -->
						<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">
<!--                 			<apex:outputPanel rendered="{!isSave}"> -->
				                <apex:pageBlockSectionItem >
					               	<apex:commandButton value="Add New Lumpsum Funds" style="margin-left:400px;" 
					                                    rendered="{!Not(blnIsETAlreadyGenerated)}"  action="{!addNewLumpsumFund}" reRender="Pagemsg,LumpsumFundOutputPannel" status="statusLumpsumId">
					                                    <apex:param name="addNewLumpsumGoalId" value="{!goalList.goalId}" /></apex:commandButton>
					                                    
	<!-- 				                <apex:commandButton value="Add New Lumpsum Funds"  style="margin-top:15px;margin-left:350px;font-weight:bold; font-size:11px;FONT-FAMILY: Calibri;"  -->
	<!--                                     rendered="{!Not(blnIsETAlreadyGenerated)}"  action="{!addNewLumpsumFund}"  -->
	<!--                                     reRender="Pagemsg,LumpsumFundOutputPannel"> -->
	<!--                                     <apex:param name="addNewLumpsumGoalId" value="{!goalList.goalId}"/></apex:commandButton> -->
	                                    
					                <apex:commandButton value="Remove" Action="{!RemoveRecordSIP}" rerender="LumpsumFundOutputPannel,Pagemsg" 
					                                       rendered="{!Not(blnIsETAlreadyGenerated)}" status="statusLumpsumId"/>
					                                       
					            </apex:pageBlockSectionItem>
					            <apex:actionStatus stopText="" id="statusLumpsumId">
							            <apex:facet name="start">                
							            	<apex:outputPanel style="padding-left:1%;">
							                	<img src="/img/loading.gif" width="16" height="16"/>
							                </apex:outputPanel>
							            </apex:facet>
						        </apex:actionStatus>      
<!-- 					        </apex:outputPanel> -->
		                </apex:outputPanel>
		                <br/>
		            <!--   					Date : 11-02-2013  Action Plan  : Prajakta Sanap -->                   
<!--                 	<apex:outputPanel rendered="{!isDisplaySaveButton}">  -->
                	<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">
<!-- 		                <apex:outputPanel rendered="{!isSave}" id="displaySave1"> -->
			            	<apex:commandButton value="Save" Action="{!saveActionPlan}"  style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" 
			                                     onclick="if(!confirm('Do you want to continue?')){return false;}" 
			                                     rendered="{!Not(blnIsETAlreadyGenerated)}" 
			                                     rerender="LumpsumFundOutputPannel,emergenceSIPid,emergenceLumpsumId,Pagemsg,Pagemsg1,pageBlockSectionSummary,SipFundOutputPannel" status="statusIdEF"/>
<!-- 			            </apex:outputPanel> -->
						<apex:actionStatus stopText="" id="statusIdEF">
		                    <apex:facet name="start"> 
		                        <apex:outputPanel style="padding-left:1%;">
		                             <img src="/img/loading.gif" width="16" height="16"/>
		                        </apex:outputPanel>
		                    </apex:facet>
		                </apex:actionStatus>  
		            </apex:outputPanel>    
		                
		           </apex:outputPanel>  
	<!-- =====================================================================End of Lumpsum Funds================================================================== -->                    
        		</apex:pageBlockSection>
        	</apex:repeat>
        </apex:pageBlockSection>
        
<!-- ================================================SUMMARY OF RECOMMENDED INVESTMENTS (MUTUAL FUNDS)================================================================================ -->              

<!--        =========================================================SIP Summary ========================================================        -->
        	<apex:outputPanel id="pageBlockSectionSummary">
              	<apex:pageBlockSection title="SUMMARY OF RECOMMENDED INVESTMENTS (MUTUAL FUNDS)" collapsible="true" columns="1" id="section6">
              		<apex:pageBlockSection title="SIP SUMMARY" columns="1" collapsible="true" >
<!--               		<div class="subHeader" style="width:80%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">SIP SUMMARY</div> -->
              			<apex:pageBlockSection collapsible="true" columns="1" >
              				<apex:repeat value="{!mapSIPFundsAlreadyExists}" var="sipFundsMap"> 
		                		<apex:variable var="total" value="{!0}"/>
		                		<apex:repeat value="{!mapSIPFundsAlreadyExists[sipFundsMap]}" var="varSipFundsMap">
										<apex:variable var="total" value="{!total + ROUND(varSipFundsMap.amount,0)}"/>		                			
		                		</apex:repeat>
	                			<div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">{!sipFundsMap}</div>
		               			<apex:pageBlockTable value="{!mapSIPFundsAlreadyExists[sipFundsMap]}" var="sipFundsObj" styleClass="required" style="margin-left:48px;width:900px;">
<!-- 				        	<apex:pageBlockTable value="{!lstSummarySIPFunds}" var="lstSIPFunds" styleClass="required" style="margin-left:48px;width:800px;"> -->
					        		<apex:column headerValue="SIP Summary" style="text-align:left;">
				                        <apex:outputText value="{!sipFundsObj.productName}"/>
				                        <apex:facet name="footer"><apex:outputText value="Total"/></apex:facet>
				                    </apex:column>
				                    <apex:column headerValue="Transaction Type" width="15%" style="text-align:left;">
				                        <apex:outputText value="{!sipFundsObj.transactionType}"/>
				                    </apex:column>
				                    <apex:column headerValue="Amount" style="text-align:right; padding-right:10px;">
				                        <apex:outputText value="{0, number, ,##,##0}" style="width:95%;text-align:right;" styleClass="textStyle">
	                                             <apex:param value="{!sipFundsObj.amount}"/>
	                                    </apex:outputText>
	                                    <apex:facet name="footer">
	                                      	<apex:outputText value="{0, number, ,##,##0}" style="float:right;padding-right:15px;" styleClass="textStyle">
	                                             <apex:param value="{!total}"/>
	                                     	</apex:outputText>
	                                    </apex:facet>
				                    </apex:column>
				                    <apex:column headerValue="Installments" style="text-align:right; padding-right:25px;">
				                        <apex:outputText value="{!sipFundsObj.installments}"/>  
				                    </apex:column>
				                    <apex:column headerValue="Category" style="text-align:center;">
				                        <apex:outputText value="{!sipFundsObj.category}"/>  
				                    </apex:column>
				                    <apex:column headerValue="Option" style="text-align:left;">
				                        <apex:outputText value="{!sipFundsObj.option}"/>  
				                    </apex:column>
				                    <apex:column headerValue="Remarks" style="text-align:left;padding-right:10px;">
				                        <apex:outputText value="{!sipFundsObj.remarks}"/>  
				                    </apex:column>
								</apex:pageBlockTable>
							</apex:repeat>
						</apex:pageBlockSection>
					</apex:pageBlockSection>
<!--        =========================================================Lumpsum Summary ========================================================        -->					
					<apex:pageBlockSection title="LUMPSUM SUMMARY" columns="1" collapsible="true" >
<!-- 						<div class="subHeader" style="width:80%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">LUMPSUM SUMMARY</div> -->
				    	<apex:pageBlockSection collapsible="true" columns="1" >
					    	<apex:repeat value="{!mapLumpsumFundsAlreadyExists}" var="lumpsumFundsMap"> 
					    		<apex:variable var="total" value="{!0}"/>
			                		<apex:repeat value="{!mapLumpsumFundsAlreadyExists[lumpsumFundsMap]}" var="varLumpsumFundsMap">
											<apex:variable var="total" value="{!total + ROUND(varLumpsumFundsMap.Amount__c,0)}"/>		                			
			                		</apex:repeat>
	                			<div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">{!lumpsumFundsMap}</div>
					        	<apex:pageBlockTable value="{!mapLumpsumFundsAlreadyExists[lumpsumFundsMap]}" var="lumpsumFundsObj" styleClass="required" style="margin-left:48px;width:800px;">
					        		<apex:column headerValue="Lumpsum Summary" style="text-align:left;">
				                        <apex:outputText value="{!lumpsumFundsObj.Product_Name__c}"/>
				                        <apex:facet name="footer"><apex:outputText value="Total"/></apex:facet>
				                    </apex:column>
				                    <apex:column headerValue="Transaction Type" width="15%">
				                        <apex:outputText value="{!lumpsumFundsObj.Transaction_Type__c}"/>
				                    </apex:column>
				                    <apex:column headerValue="Fund" style="text-align:center;">
				                        <apex:outputText value="{!lumpsumFundsObj.Fund__c}"/>
				                    </apex:column>
				                    <apex:column headerValue="Amount" style="text-align:right; padding-right:15px;">
				                        <apex:outputText value="{0, number, ,##,##0}" style="width:95%;text-align:left;" styleClass="textStyle">
	                                             <apex:param value="{!lumpsumFundsObj.Amount__c}"/>
	                                      </apex:outputText>
	                                      <apex:facet name="footer">
	                                      <apex:outputText value="{0, number, ,##,##0}" style="float:right;padding-right:15px;" styleClass="textStyle">
	                                             <apex:param value="{!total}"/>
	                                      </apex:outputText></apex:facet>
				                    </apex:column>
				                    <apex:column headerValue="Installments" style="text-align:right;padding-right:25px;">
				                        <apex:outputText value="{!lumpsumFundsObj.Installments__c}"/>  
				                    </apex:column>
	<!-- 			                    <apex:column headerValue="Amount per Installments" style="text-align:right; padding-right:15px;"> -->
	<!-- 			                        <apex:outputText value="{!lstLumpsumFunds.Amount_Per_Installment__c}"/>   -->
	<!-- 			                    </apex:column> -->
				                    <apex:column headerValue="Category" style="text-align:center;">
				                        <apex:outputText value="{!lumpsumFundsObj.Category__c}"/>  
				                    </apex:column>
				                    <apex:column headerValue="Option" style="text-align:left;">
				                        <apex:outputText value="{!lumpsumFundsObj.Option__c}"/>  
				                    </apex:column>
				                    <apex:column headerValue="Remarks" style="text-align:left;padding-right:10px;">
				                        <apex:outputText value="{!lumpsumFundsObj.Remarks__c}"/>  
				                    </apex:column>
								</apex:pageBlockTable>
							</apex:repeat>
						</apex:pageBlockSection>
<!-- 					<apex:outputPanel rendered="{!isSave}" id="displaySave3"> -->
<!--                     	<apex:commandButton value="Save" Action="{!saveActionPlan}"  style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;"  -->
<!--                                     onclick="if(!confirm('Do you want to continue?')){return false;}" rendered="{!Not(blnIsETAlreadyGenerated)}" rerender="mutualFundPanelId,Pagemsg" status="statusId2"/> -->
<!--                     </apex:outputPanel> -->
					</apex:pageBlockSection>
				</apex:pageBlockSection>
				
			</apex:outputPanel>
			
<!-- ================================================RECOMMNEDATION ON EXISTING INSURANCE================================================================ -->       
        
        
       	<apex:pageBlockSection title="RECOMMENDATION ON EXISTING INSURANCE" collapsible="true" columns="1" id="section2">
           	<div class="space">
                <apex:outputPanel id="RecPageblocksection">
                <div style="overflow:auto;height:100%;width:900px; margin-left:50px;"> 
                    <table  width="100%" border="1" cellpadding="2" cellspacing="0" id="dataTable7">
                    <tr >
                        <td class="tableHeaderLight"  style="font-size:14px;font-weight:bold;text-align:left;width:20%;background-color:#A9C5EB;">Policy Number</td>
                        <apex:repeat id="hdpolicyNumber" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{!recommendedInsurance.policyNumber}"  styleClass="textStyle">
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Insured</td>
                        <apex:repeat id="hdinsured" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{!recommendedInsurance.insured}"  styleClass="textStyle">
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Nominee</td>
                        <apex:repeat id="hdnominee" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{!recommendedInsurance.nominee}"  styleClass="textStyle">
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Insurance Company</td>
                        <apex:repeat id="hdinsuranceCompany" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{!recommendedInsurance.insuranceCompany}"  styleClass="textStyle">
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Policy Type</td>
                        <apex:repeat id="hdpolicyType" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{!recommendedInsurance.policyType}"  styleClass="textStyle">
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Policy Name</td>
                        <apex:repeat id="hdpolicyName" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{!recommendedInsurance.policyName}"  styleClass="textStyle">
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Commencement Date</td>
                        <apex:repeat id="hdcommencementDate" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{0,date,MM'/'dd'/'yyyy}" style="text-align:right;" styleClass="textStyle">
                                    <apex:param value="{!recommendedInsurance.commencementDate}" /> 
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Next Premium Due Date</td>
                        <apex:repeat id="hdnextPremiumDueDate" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{0,date,MM'/'dd'/'yyyy}" style="text-align:right;" styleClass="textStyle">
                                    <apex:param value="{!recommendedInsurance.nextPremiumDueDate}" /> 
                                </apex:outputText>
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Death Benefit (Rs.)</td>
                        <apex:repeat id="hddeathBenefitRs" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{!recommendedInsurance.deathBenefitRs}"  styleClass="textStyle">
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Premium Amount (Rs.)</td>
                        <apex:repeat id="hdpremiumAmountRs" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{!recommendedInsurance.premiumAmountRs}"  styleClass="textStyle">
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Premium Payment Frequency</td>
                        <apex:repeat id="hdpremiumPaymentFrequency" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{!recommendedInsurance.premiumPaymentFrequency}"  styleClass="textStyle">
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Tenure of Insurance</td>
                        <apex:repeat id="hdtenureofInsurance" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{!recommendedInsurance.tenureofInsurance}"  styleClass="textStyle">
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Premium Paying Term</td>
                        <apex:repeat id="hdpremiumPayingTerm" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{!recommendedInsurance.premiumPayingTerm}"  styleClass="textStyle">
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Surrender Cash Value</td>
                        <apex:repeat id="hdsurrenderCashValue" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{!recommendedInsurance.surrenderCashValue}"  styleClass="textStyle">
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Current Amount</td>
                        <apex:repeat id="hdcurrentAmount" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{0, number, ,##,##0}" styleClass="textStyle" >
                                      <apex:param value="{!recommendedInsurance.currentAmount}"/>
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Maturity Amount</td>
                        <apex:repeat id="hdmaturityAmount" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                 <apex:outputText value="{0, number, ,##,##0}" styleClass="textStyle" >
                                         <apex:param value="{!recommendedInsurance.maturityAmount}"/>
                                  </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Action to be taken</td>
                        <apex:repeat id="hdaction" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
                                <apex:outputText value="{!recommendedInsurance.action}"  styleClass="textStyle">
                                </apex:outputText> 
                            </td>
                        </apex:repeat>
                    </tr>
                  
                     <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Execution tracker<br/>to be opened</td>
                        <apex:repeat id="hdexecutiontracker" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
                            <td style="text-align:right;">
<!--                             	<apex:outputPanel rendered="{!recommendedInsurance.isETCreated}" style="font-color:#ED1B24;"> -->
<!-- 	                                <apex:outputLabel value="Already Created" style="width:80px;font-size:11px;font-weight:bold;font-color:#ED1B24;text-align:center;"/>   -->
<!-- 	                            </apex:outputPanel> -->
<!-- 	                            <apex:outputPanel rendered="{!!recommendedInsurance.isETCreated}"> -->
<!-- 	                      Commented and removed 'To be grown till maturity but stop saving more' action as Per call with Kiran and Shweta on : 25/9/2013
						      <apex:outputPanel rendered="{!IF(((recommendedInsurance.action == 'To be grown till maturity but stop saving more')|| (recommendedInsurance.action == 'Liquidate (Align to goal)')),true,false)}"> -->
	                                <apex:outputPanel rendered="{!IF(((recommendedInsurance.action == 'Liquidate (Align to goal)')),true,false)}">
	                                	<apex:selectList rendered="{!IF(recommendedInsurance.ETStatus == 'Partially Executed' || recommendedInsurance.ETStatus == 'Fully Executed',false,true)}" value="{!recommendedInsurance.recInsuranceExecutionTracker}" size="1" styleClass="textStyle" style="width:100px;">
	                                         <apex:selectOptions value="{!ExecutionTracker}"></apex:selectOptions>
	                                    </apex:selectList>
	                                    <apex:outputText rendered="{!IF(recommendedInsurance.ETStatus == 'Partially Executed' || recommendedInsurance.ETStatus == 'Fully Executed',true,false)}" value="{!recommendedInsurance.recInsuranceExecutionTracker}" style="width:190px;"/>
	                                </apex:outputPanel> 
<!--                                	</apex:outputPanel> -->
                            </td>
                        </apex:repeat>
                    </tr>
                    <tr>
                        <td class="tableHeaderLight" style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">ET Status</td>
                        <apex:repeat id="hdrecETStatus" value="{!beanObj.lstRecommendedInsurance}" var="recommendedInsurance">
							<td class="tableHeaderLight" style="text-align:right;FONT-WEIGHT: bold;background-color:#A9C5EB;">
                           		<apex:outputText value="{!recommendedInsurance.ETStatus}" />
                       		</td>
                        </apex:repeat>
                    </tr>
                    </table>
                </div>
            </apex:outputPanel>
         </div>
<!--          <apex:outputPanel rendered="{!isDisplaySaveButton}"> 	 -->
		<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">
<!-- 			<apex:outputPanel rendered="{!isSave}" id="displaySave4"> -->
	        	<apex:commandButton value="Save" Action="{!saveActionPlan}"  
	        						style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" 
	                                onclick="if(!confirm('Do you want to continue?')){return false;}" 
	                                rendered="{!Not(blnIsETAlreadyGenerated)}" rerender="RecPageblocksection,Pagemsg,Pagemsg1" status="statusId5"/>
<!-- 	        </apex:outputPanel> -->
    	 </apex:outputPanel>
       	 <apex:actionStatus stopText="" id="statusId5">
            <apex:facet name="start">                
            	<apex:outputPanel style="padding-left:1%;">
                	<img src="/img/loading.gif" width="16" height="16"/>
                </apex:outputPanel>
            </apex:facet>
         </apex:actionStatus>  
         
         </apex:pageBlockSection>
                     				
				
<!-- ===================================================================RECOMMENDED INSURANCE=================================================================== --> 

<!--        =========================================================LIFE INSURANCE========================================================= -->
		<apex:outputPanel id="pageBlockSection6" rendered="{!(isLifeInsurancePlanning || isGeneralInsurancePlanning)}"> 	
        	<apex:pageBlockSection title=" RECOMMENDED INSURANCE" collapsible="true" columns="1" id="section3">
        	 	<apex:pageMessages id="Pagemsg1"/> 
        	    <apex:outputPanel rendered="{!isLifeInsurancePlanning}">
        	    <apex:pageBlockSection title="LIFE INSURANCE" columns="1" collapsible="true" id="lifeInsId">
<!-- 	            	<div class="subHeader" style="width:90%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">LIFE INSURANCE</div> -->
		                <apex:outputPanel rendered="{!NOT(beanObj.isLifeInsExist)}">
		                    {!$Label.ActionPlanInsurenceMsg}
		                </apex:outputPanel> 
	                 	
<!-- 	               	<apex:actionFunction name="removeLIProduct" action="{!removeLIdefaultProductRow}" rerender="LI"> -->
<!-- 					    <apex:param name="index" value=""/> -->
<!-- 					    <apex:param name="mainIndex" value="" /> -->
<!-- 					</apex:actionFunction> -->
<!-- ===================Praj========================================================================================================= -->  
		        <apex:outputPanel rendered="{!beanObj.isLifeInsExist}">	
		        	<div class="subHeader" style="width:30%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">Recommended Products for Life Insurance</div>	
	        		<apex:pageBlockTable value="{!mapLifeInsTosetProducts['Life Insurance Default Products']}" var="LIMapObj" styleClass="required" style="margin-left:58px;width:300px;">
		        		<apex:column style="text-align:left;">
		        			<apex:facet name="header">Life Insurance</apex:facet>
	                        <apex:outputText value="{!LIMapObj}" />
	                    </apex:column>
	            	</apex:pageBlockTable>
	            </apex:outputPanel>
  <!-- ================================================================================================================================= --> 
  
	                 	
	                	<apex:outputPanel rendered="{!beanObj.isLifeInsExist}" Id="LI">
                		<apex:pageBlockSection collapsible="true" columns="1" id="LifeInsuranceId">
                			<apex:variable var="mainRowCount" value="{!0}"/>
<!-- 				        <apex:pageBlockTable value="{!beanObj.lstLifeInsurance}" var="liObj" styleClass="required" style="margin-left:48px; width:800px;"> -->
		        		 	<apex:repeat value="{!beanObj.mapIdToLifeInsuranceInnerClass}" var="lifeInsuranceMap"> 
		        		 		
		        		 		<apex:pageBlockTable value="{!beanObj.mapIdToLifeInsuranceInnerClass[lifeInsuranceMap]}" var="liObj" styleClass="required" style="margin-left:48px;width:900px;">
<!-- 					        Commented on : 24/10/13 : Aditi Satpute : Capping LI -->
					            <!--<apex:column width="3%">
						                <apex:outputPanel rendered="{!isDisplaySaveButton}">    
						                    <apex:commandButton Action="{!addNewLifeInsuranceRow}" value="+" rerender="pageBlockSection6,Pagemsg1" rendered="{!!liObj.isNewLI}">
					                           <apex:param name="addNew" value="{!liObj.insuranceId}"  assignTo="{!addNewLifeInsuranceId}" />
					                        </apex:commandButton>
					                        <apex:outputPanel rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed' || liObj.ETStatus == 'Not Executed',false,true)}">
						                        <apex:commandButton Action="{!removeLifeInsuracneRow}" value="-" rerender="pageBlockSection6,Pagemsg1" rendered="{!liObj.isNewLI}">
						                           <apex:param name="recId" value="{!liObj.insuranceId}"  assignTo="{!removeInsuranceId}" />
						                           <apex:param name="removeNumber" value="{!liObj.newCount}"  assignTo="{!insuranceRecordNumber}" />
						                        </apex:commandButton> 
						                    </apex:outputPanel>
			                    		</apex:outputPanel>
				                    </apex:column> -->   
<!-- 				                    <apex:column headerValue="Insured" width="10%"  style="text-align:left;vertical-align: top;"> -->
				                    <apex:column headerValue="Insured" width="10%"  style="text-align:left;">
				                        <apex:outputText value="{!liObj.insured}" style="width:100px;"/>
				                    </apex:column>
<!-- 				                    <apex:column headerValue="Suggested Cover" width="20%" style="text-align:right;"> -->
<!-- 				                          <apex:inputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',false,true)}" value="{!liObj.suggestedCover}" style="width:80px;text-align:right;"/> -->
<!-- 				                    	  <apex:outputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',true,false)}" value="{!liObj.suggestedCover}"/> -->
<!-- 				                    </apex:column> -->
				                    <apex:column headerValue="Sum Assured (Rs.)" width="10%" style="text-align:top;">
				                        <apex:inputText styleClass="requiredField" onfocus="funcCall(this,'{!liObj.ETStatus}','{!liObj.policyName}','Life Insurance')"  onblur="OnBlurFuncCall(this)" value="{!liObj.sumAssured}" rendered="{!IF(liObj.ETStatus != 'Fully Executed',true,false)}" style="width:80px;text-align:right;" />
				                        <apex:outputText rendered="{!IF(liObj.ETStatus == 'Fully Executed',true,false)}" value="{!liObj.sumAssured}" style="width:80px;text-align:right;"/>
				                    </apex:column>
				                    <apex:column headerValue="Policy Name" width="20%" style="text-align:top;">
				                        <apex:inputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',false,true)}" value="{!liObj.policyName}" style="width:150px;"  styleClass="inputTermLife requiredField" />
				                        <script>
											$(document).ready(function()
									        {
									        	var availableProductName =[{!strProductLifeInsurance}];
									        	
									            $(".inputTermLife").autocomplete({
									        		source: availableProductName,
												  	select: function(event, ui) 
												  	{
													  	var strVal = ui.item.value;	  
												  	} 
												});		
									        
									        });
										</script>
										 
										<br/>
<!-- 									<apex:variable var="rowCount" value="{!0}" /> -->
<!-- 									<apex:outputPanel id="displayButton" rendered="{!liObj.displayRemoveButton}"> -->
<!-- 										<apex:repeat value="{!liObj.lifeInsuranceList}" var="lifeIns">  -->
<!-- 											<apex:commandButton value="*" onclick="return LIremove(this, {!rowCount}, {!mainRowCount});"  -->
<!-- 																 rerender="LI"/> -->
<!-- 											<apex:outputText value="{!lifeIns}"/><br/> -->
<!-- 											<apex:variable var="rowCount" value="{!rowCount + 1}"/> -->
<!-- 										</apex:repeat> -->
<!-- 									</apex:outputPanel> -->
<!-- 									<apex:outputPanel id="dontDisplayButton" rendered="{!!liObj.displayRemoveButton}"> -->
<!-- 										<apex:repeat value="{!liObj.lifeInsuranceList}" var="lifeIns">  -->
<!-- 											<li><apex:outputText value="{!lifeIns}"/></li> -->
<!-- 											<apex:variable var="rowCount" value="{!rowCount + 1}"/> -->
<!-- 										</apex:repeat> -->
<!-- 									</apex:outputPanel> -->
<!-- 									<apex:variable var="mainRowCount" value="{!mainRowCount + 1}"/> -->
										
										<apex:outputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',true,false)}" value="{!liObj.policyName}" style="width:190px;"/>
				                    </apex:column>
				                    <apex:column headerValue="Premium Amount" width="10%" style="text-align:right;">
	                                    <apex:inputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',false,true)}" value="{!liObj.premiumAmount}" style="width:100px;text-align:right;"/>      
										<apex:outputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',true,false)}" value="{!liObj.premiumAmount}" style="width:100px;text-align:right;"/>				                    
				                    </apex:column>
				                    <apex:column headerValue="Policy Type" style="text-align:left;" width="10%" >
				                        <apex:outputText value="{!liObj.policyType}"/>  
				                    </apex:column>
				                    <apex:column headerValue="Tenure of Insurance" width="10%" style="text-align:right;">
				                    <apex:facet name="header">Tenure of <br/>Insurance</apex:facet>
				                        <apex:inputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',false,true)}" value="{!liObj.tenureOfInsurance}" style="width:80px;text-align:right;"/>  
				                    	<apex:outputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',true,false)}" value="{!liObj.tenureOfInsurance}" style="width:80px;text-align:right;"/>
				                    </apex:column>
				                    <apex:column style="text-align:left;" width="10%" >
				                    	<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
<!-- 				                       	<apex:outputPanel rendered="{!!liObj.isETCreated}"> -->
					                        <apex:selectList rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',false,true)}" value="{!liObj.executionTracker}" size="1" styleClass="textStyle" style="width:100px;">
			                                          <apex:selectOptions value="{!ExecutionTracker}"></apex:selectOptions>
			                                 </apex:selectList>
			                                 <apex:outputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',true,false)}" value="{!liObj.executionTracker}" style="width:190px;"/>
<!--                                        	</apex:outputPanel> -->
<!--                                        	<apex:outputPanel rendered="{!liObj.isETCreated}" style="font-color:#ED1B24;"> -->
<!--                                        		 <apex:outputLabel value="Already Created" style="width:80px;font-size:11px;font-weight:bold;font-color:#ED1B24;text-align:center;"/>   -->
<!--                                        	</apex:outputPanel> -->
				                    </apex:column>
				                    <apex:column headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;" width="10%" >
				                        <apex:outputText value="{!liObj.ETStatus}"/>  
				                    </apex:column>
								</apex:pageBlockTable>
							</apex:repeat>
							
<!-- 							<apex:actionFunction name="removeNewLIProduct" action="{!removeNewLIdefaultProductRow}" rerender="newLI"> -->
<!-- 							    <apex:param name="index" value=""/> -->
<!-- 							    <apex:param name="mainIndex" value="" /> -->
<!-- 							</apex:actionFunction> -->
							
							<apex:outputPanel rendered="{!IF(beanObj.lstNewLifeInsurance.size>0,true,false)}" Id = "newLI"> 
		        		 		<apex:variable var="mainRowCount" value="{!0}"/>
		        		 		<apex:pageBlockTable value="{!beanObj.lstNewLifeInsurance}" var="liObj" styleClass="required" style="margin-left:48px;width:900px;">
<!-- 					        Commented on : 24/10/13 : Aditi Satpute : Capping LI -->
					            <!--<apex:column width="3%">
						                <apex:outputPanel rendered="{!isDisplaySaveButton}">    
						                    <apex:commandButton Action="{!addNewLifeInsuranceRow}" value="+" rerender="pageBlockSection6,Pagemsg1" rendered="{!!liObj.isNewLI}">
					                           <apex:param name="addNew" value="{!liObj.insuranceId}"  assignTo="{!addNewLifeInsuranceId}" />
					                        </apex:commandButton>
					                        <apex:outputPanel rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed' || liObj.ETStatus == 'Not Executed',false,true)}">
						                        <apex:commandButton Action="{!removeLifeInsuracneRow}" value="-" rerender="pageBlockSection6,Pagemsg1" rendered="{!liObj.isNewLI}">
						                           <apex:param name="recId" value="{!liObj.insuranceId}"  assignTo="{!removeInsuranceId}" />
						                           <apex:param name="removeNumber" value="{!liObj.newCount}"  assignTo="{!insuranceRecordNumber}" />
						                        </apex:commandButton> 
						                    </apex:outputPanel>
			                    		</apex:outputPanel>
				                    </apex:column> -->   
<!-- 				                    <apex:column headerValue="Insured" width="20%"  style="text-align:left;"> -->
<!-- 				                        <apex:outputText value="{!liObj.insured}"/> -->
<!-- 				                    </apex:column> -->
				                    <apex:column headerValue="Remove" style="text-align:center;" width="5%">
				                        <apex:inputCheckbox rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed' || liObj.ETStatus == 'Not Executed',false,true)}" value="{!liObj.isRemove}" id="checkedone"/>
<!-- 				                        <apex:facet name="footer"><apex:outputText value="Total"/></apex:facet> -->
				                    </apex:column>
			                    	<apex:column headerValue="Insured" style="text-align:left;" width="8%">
<!-- 				                        <apex:inputText value="{!giObj.insured}" style="width:80px;" styleClass="requiredField"/> -->
 										<apex:selectList rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',false,true)}" value="{!liObj.insured}" size="1" styleClass="textStyle" style="width:100px;">
			                                <apex:selectOptions value="{!Entities}"></apex:selectOptions>
			                            </apex:selectList>
			                            <apex:outputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',true,false)}" value="{!liObj.insured}" style="width:190px;"/>
				                    </apex:column>
<!-- 				                    <apex:column headerValue="Suggested Cover" width="15%" style="text-align:right;"> -->
<!-- 				                          <apex:inputText styleClass="requiredField" rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',false,true)}" value="{!liObj.suggestedCover}" style="width:80px;text-align:right;" /> -->
<!-- 				                    	  <apex:outputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',true,false)}" value="{!liObj.suggestedCover}"/> -->
<!-- 				                    </apex:column> -->
				                    <apex:column width="8%" style="text-align:right;">
				                    	<apex:facet name="header">Sum Assured <br/> (Rs.)</apex:facet>
				                        <apex:inputText styleClass="requiredField" onfocus="funcCall(this,'{!liObj.ETStatus}','{!liObj.policyName}','Life Insurance')"  onblur="OnBlurFuncCall(this)" value="{!liObj.sumAssured}" rendered="{!IF(liObj.ETStatus != 'Fully Executed',true,false)}" style="width:60px;text-align:right;" />
				                        <apex:outputText rendered="{!IF(liObj.ETStatus == 'Fully Executed',true,false)}" value="{!liObj.sumAssured}" style="width:80px;text-align:right;"/>
				                    </apex:column>
				                    <apex:column headerValue="Policy Name" width="20%" style="text-align:left;" id="policyNameId">
				                        <apex:inputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',false,true)}" value="{!liObj.policyName}" style="width:150px;"  styleClass="inputTermLife requiredField" />
				                        <script>
											$(document).ready(function()
									        {
									        	var availableProductName =[{!strProductLifeInsurance}];
									        	
									            $(".inputTermLife").autocomplete({
									        		source: availableProductName,
												  	select: function(event, ui) 
												  	{
													  	var strVal = ui.item.value;	  
												  	} 
												});		
									        
									        });
										</script>
										
<!-- 										<br/>	 -->
<!-- 										<apex:variable var="rowCount" value="{!0}"/> -->
<!-- 										<apex:outputPanel id="displayButton" rendered="{!liObj.displayRemoveButton}"> -->
<!-- 											<apex:repeat value="{!liObj.lifeInsuranceList}" var="lifeIns">  -->
<!-- 												<apex:commandButton value="*" onclick="return newLIremove(this, {!rowCount}, {!mainRowCount});" rerender="newLI"/> -->
<!-- 												<apex:outputText value="{!lifeIns}"/><br/> -->
<!-- 												<apex:variable var="rowCount" value="{!rowCount + 1}"/> -->
<!-- 											</apex:repeat> -->
<!-- 										</apex:outputPanel> -->
																				
<!-- 										<apex:outputPanel id="dontDisplayButton" rendered="{!!liObj.displayRemoveButton}"> -->
<!-- 											<apex:repeat value="{!liObj.lifeInsuranceList}" var="lifeIns">  -->
<!-- 												<li><apex:outputText value="{!lifeIns}"/></li> -->
<!-- 											</apex:repeat> -->
<!-- 										</apex:outputPanel> -->
<!-- 										<apex:variable var="mainRowCount" value="{!mainRowCount + 1}"/>	 -->
										
										<apex:outputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',true,false)}" value="{!liObj.policyName}" style="width:80px;"/>
				                    </apex:column>
				                    
				                    
				                    
				                    <apex:column headerValue="Premium Amount" width="8%" style="text-align:right;">
				                    <apex:facet name="header">Premium<br/>Amount</apex:facet>
	                                    <apex:inputText styleClass="requiredField" rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',false,true)}" value="{!liObj.premiumAmount}" style="width:60px;text-align:right;"/>      
										<apex:outputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',true,false)}" value="{!liObj.premiumAmount}" style="width:60px;text-align:right;"/>				                    
				                    </apex:column>
				                    <apex:column headerValue="Policy Type" style="text-align:left;">
			                         	<apex:selectList rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',false,true)}" value="{!liObj.policyType}" size="1" styleClass="textStyle" style="width:75px;" >
			                              	 <apex:selectOptions value="{!lstLifeInsurancePolicyType}"></apex:selectOptions>
		                          	  	</apex:selectList>
		                          	  	<apex:outputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',true,false)}" value="{!liObj.policyType}" style="width:75px;"/>
				                    </apex:column>
				                    
				                    
				                    <apex:column headerValue="Tenure of Insurance" width="8%" style="text-align:right;">
				                    <apex:facet name="header">Tenure of <br/>Insurance</apex:facet>
				                        <apex:inputText styleClass="requiredField" rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',false,true)}" value="{!liObj.tenureOfInsurance}" style="width:70px;text-align:right;"/>  
				                    	<apex:outputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',true,false)}" value="{!liObj.tenureOfInsurance}" style="width:70px;text-align:right;"/>
				                    </apex:column>
				                    <apex:column style="text-align:left;">
				                    	<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
<!-- 				                       	<apex:outputPanel rendered="{!!liObj.isETCreated}"> -->
					                        <apex:selectList rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',false,true)}" value="{!liObj.executionTracker}" size="1" styleClass="textStyle" style="width:100px;">
			                                          <apex:selectOptions value="{!ExecutionTracker}"></apex:selectOptions>
			                                 </apex:selectList>
			                                 <apex:outputText rendered="{!IF(liObj.ETStatus == 'Partially Executed' || liObj.ETStatus == 'Fully Executed',true,false)}" value="{!liObj.executionTracker}" style="width:190px;"/>
<!--                                        	</apex:outputPanel> -->
<!--                                        	<apex:outputPanel rendered="{!liObj.isETCreated}" style="font-color:#ED1B24;"> -->
<!--                                        		 <apex:outputLabel value="Already Created" style="width:80px;font-size:11px;font-weight:bold;font-color:#ED1B24;text-align:center;"/>   -->
<!--                                        	</apex:outputPanel> -->
				                    </apex:column>
				                    <apex:column headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;" width="10%" >
				                        <apex:outputText value="{!liObj.ETStatus}"/>  
				                    </apex:column>
								</apex:pageBlockTable>
							</apex:outputPanel>
							
							<br/>
						</apex:pageBlockSection>
						
						<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">	
<!-- 							<apex:outputPanel rendered="{!isSave}"> -->
								<apex:commandButton value="Add New" Action="{!addNewLifeInsurance}"  reRender="newLI,LifeInsuranceId,Pagemsg"
		        						style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" status="bottomStatus2"/>
		        				<apex:outputPanel rendered="{!IF(beanObj.lstNewLifeInsurance.size>0,true,false)}">
					        		<apex:commandButton value="Remove" Action="{!removeNewLIrecords}" rerender="newLI,LifeInsuranceId,Pagemsg,Pagemsg1" status="bottomStatus2"/>
							    </apex:outputPanel>
							    <apex:actionStatus stopText="" id="bottomStatus2">
					                <apex:facet name="start">
					               		<apex:outputPanel style="padding-left:2%;padding-top:5px;">
					                    	<img src="/img/loading.gif" width="16" height="16"/>
										</apex:outputPanel>
					                </apex:facet>
		 						</apex:actionStatus>  
<!-- 							</apex:outputPanel> -->
						</apex:outputPanel>
						<br/>
						<br/>
						
						
						<apex:pageBlockSection collapsible="true" columns="1" >
							<apex:pageBlockTable value="{!beanObj.lstLifeInsuranceRemark}" var="liObj" styleClass="required" style="margin-left:48px; width:900px;"> 
<!-- 								<apex:outputPanel rendered="{!IF(liObj.isNewLI == true,false,true)}"> -->
								 	<apex:column headerValue="Insured" width="20%"  style="text-align:left;">
				                        <apex:outputText value="{!liObj.insured}"/>
				                    </apex:column>
									<apex:column headerValue="Remarks" width="677px">
				                        <apex:inputTextArea value="{!liObj.insuranceRemark}" style="width:677px;height:65px"/>  
				                    </apex:column>
<!-- 			                   	</apex:outputPanel> -->
			             </apex:pageBlockTable>
			             </apex:pageBlockSection>
<!-- 							<apex:repeat value="{!beanObj.lstLifeInsurance}" var="liObj">  -->
<!-- 								<apex:outputPanel rendered="{!IF(liObj.isNewLI == true,false,true)}"> -->
<!-- 									<apex:pageBlockSectionItem > -->
<!-- 										<apex:outputText value="Insured " style="text-align:left;"/> -->
<!-- 					           			<apex:outputText value="Remarks " style="text-align:left;"/> -->
<!-- 				           			</apex:pageBlockSectionItem> -->
<!-- 				           			<apex:pageBlockSectionItem > -->
<!-- 										<apex:outputText value="{!liObj.insured}"/> -->
<!-- 					           			<apex:inputTextArea value="{!liObj.insuranceRemark}" style="width:677px;height:65px"/>   -->
<!-- 				           			</apex:pageBlockSectionItem> -->
<!-- 				           		</apex:outputPanel> -->
<!-- 							</apex:pageBlockTable> -->
<!-- 							</apex:repeat> -->
<!-- 						</apex:pageBlockSection> -->

<!-- 					 <div style="overflow:auto;height:100%;width:900px; margin-left:50px;">  -->
<!-- 					 <table  width="800px" border="1" cellpadding="2" cellspacing="0" id="dataTable7"> -->
<!-- 	                   	 <tr > -->
<!-- 	                        <td class="tableHeaderLight"  style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Insured</td> -->
<!-- 	                        <td class="tableHeaderLight"  style="font-size:14px;font-weight:bold;text-align:left;background-color:#A9C5EB;">Remarks</td> -->
<!-- 	                     </tr> -->
<!-- 	                     <apex:repeat value="{!beanObj.lstLifeInsurance}" var="liObj"> -->
<!-- 	                     	<apex:outputPanel rendered="{!IF(liObj.isNewLI == true,false,true)}">  -->
<!-- 			                     <tr> -->
<!-- 			                     	<td><apex:outputText value="{!liObj.insured}"/></td> -->
<!-- 			                     	<td><apex:inputTextArea value="{!liObj.insuranceRemark}" style="width:677px;height:65px"/></td> -->
<!-- 			                     </tr> -->
<!-- 		                     </apex:outputPanel> -->
<!-- 	                     </apex:repeat> -->
<!-- 	                 </table> -->
<!-- 	                </div> -->
					</apex:outputPanel>
					
					<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">
			        	<apex:commandButton value="Save" Action="{!saveActionPlan}"  
			        						style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" 
			                                onclick="if(!confirm('Do you want to continue?')){return false;}" 
			                                rendered="{!Not(blnIsETAlreadyGenerated) && beanObj.isLifeInsExist}"  status="statusId4"
			                                rerender="newLI,LifeInsuranceId,LI,Pagemsg1,Pagemsg,displayButton,policyNameId" />
						<apex:actionStatus stopText="" id="statusId4">
				            <apex:facet name="start">                
				            	<apex:outputPanel style="padding-left:1%;">
				                	<img src="/img/loading.gif" width="16" height="16"/>
				                </apex:outputPanel>
				            </apex:facet>
				        </apex:actionStatus>  
			    	</apex:outputPanel>
			    
				</apex:pageBlockSection>
				</apex:outputPanel>	
<!--        =========================================================GENERAL INSURANCE========================================================= -->
			<apex:outputPanel rendered="{!isGeneralInsurancePlanning}">
				<apex:pageBlockSection title="GENERAL INSURANCE" columns="1" collapsible="true" >
<!-- 				<div class="subHeader" style="width:90%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">GENERAL INSURANCE</div> -->
	                <apex:outputPanel rendered="{!NOT(beanObj.isGeneralInsExist)}">
		                {!$Label.ActionPlanInsurenceMsg}
           		 	</apex:outputPanel>
		            
<!-- 		            <apex:actionFunction name="removeGIProduct" action="{!removeGIdefaultProductRow}" rerender="GI"> -->
<!-- 					    <apex:param name="index" value=""/> -->
<!-- 					    <apex:param name="mainIndex" value="" /> -->
<!-- 					</apex:actionFunction> -->
<!-- ============================================================================================================================ -->  
<!-- 		        		<apex:pageBlockTable value="{!mapLifeInsTolstProducts['General Insurance Default Products']}" var="GIMapObj" styleClass="required" style="margin-left:58px;width:300px;"> -->
<!-- 			        		<apex:column style="text-align:left;"> -->
<!-- 			        			<apex:facet name="header">General Insurance</apex:facet> -->
<!-- 		                        <apex:outputText value="{!GIMapObj}" /> -->
<!-- 		                    </apex:column> -->
<!-- 		            	</apex:pageBlockTable> -->
<!-- ====================Praj======================================================================================================== --> 
		     <apex:outputPanel rendered="{!beanObj.isGeneralInsExist}">
		       <div class="subHeader" style="width:30%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">Recommended Products for General Insurance</div>
		       		<apex:outputPanel layout="inline">
		       		<table style="width:90%;padding-left:10px;margin-left:50px;">
		       		<tr>
						<td style="vertical-align: top;" >
							<apex:outputPanel rendered="true">
					  		<table width="180px" border="1" cellpadding="2" cellspacing="0" class="list tableCls" id="dataTable3">
					  			<thead onmouseout="removeButton(null);" onmouseover="removeButton(null);">
						      		<tr class="headerRow">
						          		<th>Health Insurance</th>
						      		</tr> 
					      		</thead>
					      		<apex:repeat value="{!mapLifeInsTosetProducts['Health Insurance']}" var="curLumpObj">
					      			<tbody>
						      			<tr class="dataRow even first rowHieght"  onblur="if (window.hiOff){hiOff(this);}" onfocus="if (window.hiOn){hiOn(this);}" onmouseout="if (window.hiOff){hiOff(this);}" onmouseover="if (window.hiOn){hiOn(this);}">
						          			<td class=" dataCell">{!curLumpObj}</td>
						      			</tr>
					      			</tbody>
				      			</apex:repeat>
					      		
					  		</table><br/>
					  		</apex:outputPanel>
			  			</td>
			  			<td style="vertical-align: top;">
					  		<table width="180px" border="1" cellpadding="2" cellspacing="0" id="dataTable3" class="list tableCls">
					  			<thead onmouseout="removeButton(null);" onmouseover="removeButton(null);">
						      		<tr class="headerRow">
						          		<th>Critical Illness</th>
						      		</tr>
						      	</thead>
					      		<apex:repeat value="{!mapLifeInsTosetProducts['Critical Illness']}" var="curLumpObj">
					      			<tbody>
						      			<tr class="dataRow even first rowHieght"  onblur="if (window.hiOff){hiOff(this);}" onfocus="if (window.hiOn){hiOn(this);}" onmouseout="if (window.hiOff){hiOff(this);}" onmouseover="if (window.hiOn){hiOn(this);}">
						          			<td class=" dataCell">{!curLumpObj}</td>
						      			</tr>
						      		</tbody>
					      		</apex:repeat>
					  		</table><br/>
				  		</td>
				  		<td style="vertical-align: top;">
					  		<table width="180px" border="1" cellpadding="2" cellspacing="0" id="dataTable3" class="list tableCls">
					  			<thead onmouseout="removeButton(null);" onmouseover="removeButton(null);">
						      		<tr class="headerRow">
						          		<th>Accident Benefit</th>
						      		</tr> 
						      	</thead>
					      		<apex:repeat value="{!mapLifeInsTosetProducts['Accident Benefit']}" var="curLumpObj">
					      			<tbody>
						      			<tr class="dataRow even first rowHieght"  onblur="if (window.hiOff){hiOff(this);}" onfocus="if (window.hiOn){hiOn(this);}" onmouseout="if (window.hiOff){hiOff(this);}" onmouseover="if (window.hiOn){hiOn(this);}">
						          			<td class=" dataCell">{!curLumpObj}</td>
						      			</tr>
						      		</tbody>
					      		</apex:repeat>
					  		</table><br/>
			  			</td>
			  			<td style="vertical-align: top;">
					  		<table width="180px" border="1" cellpadding="2" cellspacing="0" id="dataTable3" class="list tableCls">
					  			<thead onmouseout="removeButton(null);" onmouseover="removeButton(null);">
						      		<tr class="headerRow">
						          		<th>Top Up</th>
						      		</tr> 
						      	</thead>
					      		<apex:repeat value="{!mapLifeInsTosetProducts['Top Up']}" var="curLumpObj">
					      			<tbody>
						      			<tr class="dataRow even first rowHieght"  onblur="if (window.hiOff){hiOff(this);}" onfocus="if (window.hiOn){hiOn(this);}" onmouseout="if (window.hiOff){hiOff(this);}" onmouseover="if (window.hiOn){hiOn(this);}">
						          			<td class=" dataCell">{!curLumpObj}</td>
						      			</tr>
						      		</tbody>
					      		</apex:repeat>
					  		</table><br/>
			  			</td>
			  		</tr></table>
			  	</apex:outputPanel> 
			 </apex:outputPanel> 	
  <!-- ================================================================================================================================= --> 		            
            		<apex:outputPanel rendered="{!beanObj.isGeneralInsExist}" id="GI">
            			<!-- <apex:pageMessages id="Pagemsg1"/> -->
                		<apex:pageBlockSection collapsible="true" columns="1" Id="GIid">
				        	<apex:variable var="mainRowCount" value="{!0}"/>
				        	<apex:pageBlockTable value="{!beanObj.lstGeneralInsurance}" var="giObj" styleClass="required" style="margin-left:48px;width:900px;">
				        		<apex:column headerValue="Insured" style="text-align:left;" width="15%">
			                        <apex:outputText value="{!giObj.insured}" style="width:80px;"/>
			                    </apex:column>
			                    <apex:column headerValue="Policy Type" style="text-align:center;" width="10%">
			                        <apex:outputText value="{!giObj.policyType}" style="width:80px;"/>
			                    </apex:column>
<!-- 			                    <apex:column headerValue="Policy Name" width="20%"> -->
<!-- 			                        <apex:outputText value="{!giObj.policyName}"/> -->
<!-- 			                    </apex:column> -->
			                    <apex:column headerValue="Product Name" style="text-align:left;" width="25%">
<!-- 				                        <apex:inputText value="{!giObj.productName}" style="width:80px;" rendered="{!lstMedicalOptions.size == 0}" id="medicalOptionId"/> -->
											<apex:inputText id="medicalOptionId" styleClass="inputMedical requiredField" value="{!giObj.productName}" 
															rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',false,true)}"
															style="width:250px;"/> <br/>
											<script>
												$(document).ready(function()
										        {
										        	var availableProductName =[{!strProductGeneralInsurance}];
										        	
										            $(".inputMedical").autocomplete({
										        		source: availableProductName,
													  	select: function(event, ui) 
													  	{
														  	var strVal = ui.item.value;	  
													  	} 
													});		
										        
										        });
									        </script>
 					         				<apex:outputText rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',true,false)}" value="{!giObj.productName}" style="width:250px;"/>
<!-- 			                    	 <apex:inputText value="{!giObj.productName}" style="width:80px;" /> -->
<!-- 			                    	 <apex:selectList value="{!giObj.productName}" size="1" styleClass="textStyle" style="width:100px;" rendered="{!giObj.policyType =='Medical'}"> -->
<!-- 			                          	<apex:selectOptions value="{!lstMedicalOptions}"></apex:selectOptions> -->
<!-- 			                          </apex:selectList>	 -->
			                          
<!-- 			                          <apex:selectList value="{!giObj.productName}" size="1" styleClass="textStyle" style="width:100px;" rendered="{!giObj.policyType =='Critical Illness'}"> -->
<!-- 			                          	<apex:selectOptions value="{!lstCriticalIllnessOptions}"></apex:selectOptions> -->
<!-- 			                          </apex:selectList> -->
			                          
<!-- 			                          <apex:selectList value="{!giObj.productName}" size="1" styleClass="textStyle" style="width:100px;" rendered="{!giObj.policyType =='Top Up'}"> -->
<!-- 			                           	<apex:selectOptions value="{!lstTopUpOptions}"></apex:selectOptions> -->
<!-- 			                          </apex:selectList> -->
			                          
<!-- 			                          <apex:selectList value="{!giObj.productName}" size="1" styleClass="textStyle" style="width:100px;" rendered="{!giObj.policyType =='Disability'}"> -->
<!-- 			                          	<apex:selectOptions value="{!lstDisabilityOptions}"></apex:selectOptions> -->
<!-- 			                          </apex:selectList> -->
			                          
<!-- 			                          <apex:selectList value="{!giObj.productName}" size="1" styleClass="textStyle" style="width:100px;" rendered="{!giObj.policyType =='Personal Accident'}"> -->
<!-- 			                          	<apex:selectOptions value="{!lstPersonalAccidentOptions}"></apex:selectOptions> -->
<!-- 			                          </apex:selectList> -->
			                          
<!-- 			                         <apex:outputPanel rendered="{!giObj.policyType =='Vehicle'}">  -->
<!-- 					                          <apex:selectList value="{!giObj.productName}" size="1" styleClass="textStyle" style="width:100px;" rendered="{!lstVehicleOptions.size > 0}" > -->
<!-- 					                          	 <apex:selectOptions value="{!lstVehicleOptions}"></apex:selectOptions> -->
<!-- 					                          </apex:selectList> -->
					                          
<!-- 					                          <apex:inputText value="{!giObj.productName}" style="width:80px;" rendered="{!lstVehicleOptions.size == 0}"/> -->
<!-- 				                     </apex:outputPanel> -->
				                     
<!-- 				                      <apex:selectList value="{!giObj.productName}" size="1" styleClass="textStyle" style="width:100px;" rendered="{!giObj.policyType =='Householder\'s'}"> -->
<!-- 			                          	<apex:selectOptions value="{!lstHouseHoldOptions}"></apex:selectOptions> -->
<!-- 			                          </apex:selectList> -->
				                     
<!-- 			                        <apex:inputText value="{!giObj.productName}"/>   -->
<!-- 										<ul> -->
									<!-- Prajakta - 6-12-13 -->
									
<!-- 									<apex:variable var="rowCount" value="{!0}"/> -->
<!-- 									<apex:outputPanel id="displayGIButton" rendered="{!giObj.displayGIbutton}"> -->
<!-- 										<apex:repeat value="{!giObj.generalInsuranceList}" var="genIns">  -->
<!-- 											<apex:commandButton value="*" onclick="return GIremove(this, {!rowCount}, {!mainRowCount});" rerender="GI"/> -->
<!-- 												<apex:outputText value="{!genIns}"/> -->
<!-- 											<br/> -->
<!-- 											<apex:variable var="rowCount" value="{!rowCount + 1}"/> -->
<!-- 										</apex:repeat> -->
<!-- 									</apex:outputPanel> -->
<!-- 									<apex:outputPanel id="dontDisplayGIButton" rendered="{!!giObj.displayGIbutton}"> -->
<!-- 										<apex:repeat value="{!giObj.generalInsuranceList}" var="genIns">  -->
<!-- 											<li><apex:outputText value="{!genIns}"/></li> -->
<!-- 										</apex:repeat> -->
<!-- 									</apex:outputPanel> -->
<!-- 									<apex:variable var="mainRowCount" value="{!mainRowCount + 1}"/> -->
									
			                    </apex:column>
			                    <apex:column headerValue="Sum Assured (Rs.)" style="text-align:right;" width="12%">
			                        <apex:outputText value="{!giObj.sumAssured}" style="width:80px;"/>  
			                    </apex:column>
<!-- 			                    <apex:column headerValue="Premium Amount" style="text-align:right;padding-right:25px;"> -->
<!-- 			                        <apex:outputText value="{0, number, ,##,##0}" style="width:80px;height:16px;" styleclass="standardFontStyle"> -->
<!-- 		                                <apex:param value="{!giObj.premiumAmount}"/> -->
<!-- 		                            </apex:outputText> -->
<!-- 			                    </apex:column>  -->
								<apex:column headerValue="Premium Amount" style="text-align:right;padding-right:25px;" width="15%">
				                     	<apex:inputText value="{!giObj.premiumAmount}" style="width:80px;text-align:right;" rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',false,true)}"/>  
				               			<apex:outputText rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',true,false)}" value="{!giObj.premiumAmount}" style="width:80px;text-align:right;"/>
				                </apex:column>
			                    <apex:column style="text-align:left;">
			                   		<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
<!-- 		                   			<apex:outputPanel rendered="{!!giObj.isETCreated}"> -->
				                        <apex:selectList rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',false,true)}" value="{!giObj.executionTracker}" size="1" styleClass="textStyle" style="width:100px;">
			                                <apex:selectOptions value="{!ExecutionTracker}"></apex:selectOptions>
			                            </apex:selectList>
			                            <apex:outputText rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',true,false)}" value="{!giObj.executionTracker}" style="width:190px;"/>
<!-- 			                        </apex:outputPanel> -->
<!--                               		<apex:outputPanel rendered="{!giObj.isETCreated}"> -->
<!--                                  		<apex:outputLabel value="Already Created" style="width:80px;font-size:11px;font-weight:bold;font-color:#ED1B24;text-align:center;"/>   -->
<!--                                    	</apex:outputPanel> -->
			                    </apex:column> 
			                    <apex:column headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;" width="12%">
				        			<apex:outputText value="{!giObj.ETStatus}" />
				        		 </apex:column>
				        		 
							</apex:pageBlockTable>
							
<!-- 					<apex:actionFunction name="removeNewGIProduct" action="{!removeNewGIdefaultProductRow}" rerender="newGI"> -->
<!-- 					    <apex:param name="index" value=""/> -->
<!-- 					    <apex:param name="mainIndex" value="" /> -->
<!-- 					</apex:actionFunction> -->
		            
<!-- 						Added on : 19/02/2013 : Aditi satpute : AP Changes : Add new rows for General Insurance -->
							<apex:outputPanel rendered="{!IF(beanObj.lstNewGeneralInsurance.size>0,true,false)}" Id = "newGI">
								<apex:variable var="mainRowCount" value="{!0}"/>
				        		<apex:pageBlockTable value="{!beanObj.lstNewGeneralInsurance}" var="giObj" styleClass="required" style="margin-left:48px;width:900px;" id="pbNewGeneralInsurance">
					        		<apex:column headerValue="Remove" style="text-align:center;" >
				                        <apex:inputCheckbox rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed' || giObj.ETStatus == 'Not Executed',false,true)}" value="{!giObj.isRemove}" id="checkedone"/>
<!-- 				                        <apex:facet name="footer"><apex:outputText value="Total"/></apex:facet> -->
				                    </apex:column>
					        		<apex:column headerValue="Insured" style="text-align:left;" width="12%">
<!-- 				                        <apex:inputText value="{!giObj.insured}" style="width:80px;" styleClass="requiredField"/> -->
 										<apex:selectList rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',false,true)}" value="{!giObj.insured}" size="1" styleClass="textStyle" style="width:100px;">
			                                <apex:selectOptions value="{!Entities}"></apex:selectOptions>
			                            </apex:selectList>
			                            <apex:outputText rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',true,false)}" value="{!giObj.insured}" style="width:190px;"/>
				                    </apex:column>
<!-- 				                    <apex:column headerValue="Insured1" style="text-align:left;" width="20%"> -->
<!-- 			                        	<apex:outputText value="{!giObj.insured}" style="width:80px;"/> -->
<!-- 				                    </apex:column> -->
				                    <apex:column headerValue="Policy Type" style="text-align:left;" width="8%" id="policyTypeId">
<!-- 				                    	  <apex:outputPanel rendered="{!isSave}"> -->
					                    	  <apex:selectList rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',false,true)}" value="{!giObj.policyType}" size="1" styleClass="textStyle" style="width:90px;" >
				                              	 <apex:selectOptions value="{!lstPolicyType}"></apex:selectOptions>
				                          	  </apex:selectList>
				                          	  <apex:outputText rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',true,false)}" value="{!giObj.policyType}" style="width:90px;"/>	
<!-- 			                          	  </apex:outputPanel> -->
<!-- 			                          	  <apex:outputPanel rendered="{!!isSave}"> -->
<!-- 				                        		<apex:inputText value="{!giObj.policyType}" style="width:80px;" styleClass="requiredField"/> -->
<!-- 										</apex:outputPanel> -->
				                    </apex:column>
				                    
	<!-- 			                    <apex:column headerValue="Policy Name" width="20%"> -->
	<!-- 			                        <apex:outputText value="{!giObj.policyName}"/> -->
	<!-- 			                    </apex:column> -->
									<apex:column headerValue="Product Name" style="text-align:left;" id="policyNameId" width="20%">
									
										 <apex:inputText rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',false,true)}" id="medicalOptionId" styleClass="inputMedical  requiredField" value="{!giObj.productName}"  />
																 
											<script>
												$(document).ready(function()
										        {
										        	var availableProductName =[{!strProductGeneralInsurance}];
										        	
										            $(".inputMedical").autocomplete({
										        		source: availableProductName,
													  	select: function(event, ui) 
													  	{
														  	var strVal = ui.item.value;	  
													  	} 
													});		
										        
										        });
									        </script>
									      
									        <apex:outputText rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',true,false)}" value="{!giObj.productName}" style="width:190px;"/>
<!-- 			                        <br/> -->
			                          <!-- Prajakta -->
<!-- 									<apex:variable var="rowCount" value="{!0}"/> -->
<!-- 									<apex:outputPanel id="displayGIButton" rendered="{!giObj.displayGIbutton}"> -->
<!-- 										<apex:repeat value="{!giObj.generalInsuranceList}" var="genIns">  -->
<!-- 											<apex:commandButton value="*" onclick="return newGIremove(this, {!rowCount}, {!mainRowCount});" rerender="GI"/> -->
<!-- 											<apex:outputText value="{!genIns}"/><br/> -->
<!-- 											<apex:variable var="rowCount" value="{!rowCount + 1}"/> -->
<!-- 										</apex:repeat> -->
<!-- 									</apex:outputPanel> -->
<!-- 									<apex:outputPanel id="dontDisplayGIButton" rendered="{!!giObj.displayGIbutton}"> -->
<!-- 										<apex:repeat value="{!giObj.generalInsuranceList}" var="genIns">  -->
<!-- 											<li><apex:outputText value="{!genIns}"/></li> -->
<!-- 										</apex:repeat> -->
<!-- 									</apex:outputPanel> -->
<!-- 									<apex:variable var="mainRowCount" value="{!mainRowCount + 1}"/> -->
			                        
			                        </apex:column>
										
				                    <apex:column headerValue="Sum Assured (Rs.)" style="text-align:right;" width="10%">
				                        <apex:inputText onfocus="funcCall(this,'{!giObj.ETStatus}','{!giObj.productName}','General Insurance')"  onblur="OnBlurFuncCall(this)" value="{!giObj.sumAssured}" rendered="{!IF(giObj.ETStatus != 'Fully Executed',true,false)}" style="width:80px;text-align:right;" styleClass="requiredField"/>  
				                         <apex:outputText rendered="{!IF(giObj.ETStatus == 'Fully Executed',true,false)}" value="{!giObj.sumAssured}" style="width:190px;"/>
				                    </apex:column>
				                    
				                    <apex:column headerValue="Premium Amount" style="text-align:right;padding-right:25px;" width="12%">
				                     	<apex:inputText rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',false,true)}" value="{!giObj.premiumAmount}" style="width:80px;text-align:right;" styleClass="requiredField"/>
				                     	<apex:outputText rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',true,false)}" value="{!giObj.premiumAmount}" style="width:80px;text-align:right;"/>  
<!-- 				                        <apex:outputText value="{0, number, ,##,##0}" style="width:80px;height:16px;" styleclass="standardFontStyle"> -->
<!-- 			                                <apex:param value="{!giObj.premiumAmount}"/> -->
<!-- 			                            </apex:outputText> -->
				                    </apex:column> 
				                    
				                   	<apex:column style="text-align:left;">
			                   			<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
<!-- 			                   			<apex:outputPanel rendered="{!!giObj.isETCreated}"> -->
					                        <apex:selectList rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',false,true)}" value="{!giObj.executionTracker}" size="1" styleClass="textStyle" style="width:100px;">
				                                <apex:selectOptions value="{!ExecutionTracker}"></apex:selectOptions>
				                            </apex:selectList>
				                            <apex:outputText rendered="{!IF(giObj.ETStatus == 'Partially Executed' || giObj.ETStatus == 'Fully Executed',true,false)}" value="{!giObj.executionTracker}" style="width:190px;"/>
<!-- 				                       	</apex:outputPanel> -->
<!-- 			                       		<apex:outputPanel rendered="{!giObj.isETCreated}"> -->
<!--                                        		 <apex:outputLabel value="Already Created" style="width:80px;font-size:11px;font-weight:bold;font-color:#ED1B24;text-align:center;"/>   -->
<!--                                        	</apex:outputPanel> -->
				                   	</apex:column> 
				                   	<apex:column headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;" width="10%">
					        			<apex:outputText value="{!giObj.ETStatus}" />
					        		 </apex:column>
								</apex:pageBlockTable>
							</apex:outputPanel>
							
						</apex:pageBlockSection>
<!-- 					 	<apex:outputPanel rendered="{!isDisplaySaveButton}"> 	 -->
						<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">	
<!-- 							<apex:outputPanel rendered="{!isSave}"> -->
								<apex:commandButton value="Add New" Action="{!addNewGeneralInsurance}"  reRender="newGI,GIid,GI,Pagemsg"
		        						style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" status="bottomStatus"/>
		        				<apex:outputPanel rendered="{!IF(beanObj.lstNewGeneralInsurance.size>0,true,false)}">
					        		<apex:commandButton value="Remove" Action="{!removeNewGIrecords}"  status="bottomStatus" rerender="GIid,Pagemsg,Pagemsg1" />
							    </apex:outputPanel>
							    <apex:actionStatus stopText="" id="bottomStatus">
					                <apex:facet name="start">
					               		<apex:outputPanel style="padding-left:2%;padding-top:5px;">
					                    	<img src="/img/loading.gif" width="16" height="16"/>
										</apex:outputPanel>
					                </apex:facet>
		 						</apex:actionStatus>  
<!-- 							</apex:outputPanel> -->
						</apex:outputPanel>
						<br/>
						<br/>
						<apex:pageBlockSection columns="2">
							<apex:pageBlockSectionItem >
			           			<apex:outputText value="Remarks: " style="text-align:left;font-weight:bold;"/>
			           			<apex:inputTextArea value="{!generalInsuranceRemark}" style="width:300px;height:55px;"/>
           					</apex:pageBlockSectionItem>
           					<apex:pageBlockSectionItem >
           					</apex:pageBlockSectionItem>
						</apex:pageBlockSection>
					</apex:outputPanel> 
				</apex:pageBlockSection>
				</apex:outputPanel>	
<!-- 					<apex:pageBlockSectionItem > -->
<!-- 		           			<apex:outputText value="Remarks: " style="text-align:left;"/> -->
<!-- 		           			<apex:inputTextArea value="{!generalInsuranceRemark}" style="width:300px;height:55px;"/> -->
<!--            			</apex:pageBlockSectionItem> -->
					
					
				<!--   					Date : 11-02-2013  Action Plan  : Prajakta Sanap -->                   
<!--                 <apex:outputPanel rendered="{!isDisplaySaveButton}">  -->
               <apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">
			        	<apex:commandButton value="Save" Action="{!saveActionPlan}"  
			        						style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" 
			                                onclick="if(!confirm('Do you want to continue?')){return false;}" 
			                                rendered="{!Not(blnIsETAlreadyGenerated) && beanObj.isGeneralInsExist}" rerender="newGI,GIid,GI,Pagemsg1,Pagemsg,displayGIButton" status="statusId4"/>
						<apex:actionStatus stopText="" id="statusId4">
				            <apex:facet name="start">                
				            	<apex:outputPanel style="padding-left:1%;">
				                	<img src="/img/loading.gif" width="16" height="16"/>
				                </apex:outputPanel>
				            </apex:facet>
				        </apex:actionStatus>  
			    </apex:outputPanel>
                </apex:pageBlockSection>
			</apex:outputPanel>
						
<!-- ===============================================================SUCCESSION PLANNING================================================================================================== -->
          
         <apex:outputPanel id="pageBlockSection" rendered="{!isSuccessionPlanning}">
          	<apex:pageBlockSection title="SUCCESSION PLANNING" collapsible="true" columns="1" id="section4">
                <div class="subHeader" style="width:85%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">WILL</div>
                
                <apex:outputPanel rendered="{!NOT(bean.entity.Will__c)}"> 
                    <ul class="TickList">
                        <li> <apex:outputText value=" {!$Label.WillAbsent}"/> 
                        </li>
                        <li> <apex:outputText value=" {!$Label.WhatIsWill}" escape="false"/> 
                        </li>
                        <li> <apex:outputPanel rendered="{!IF(bean.spouse.Name!=null,true,false)}"> 
                                 <apex:outputText value="{!bean.entity.Name} and {!bean.spouse.Name} should make a Will as per their wish."/> 
                             </apex:outputPanel> 
                             <apex:outputPanel rendered="{!IF(bean.spouse.Name==null,true,false)}"> 
                                 <apex:outputText value=" {!bean.entity.Name} should make a Will as per their wish."/> 
                             </apex:outputPanel> 
                        </li>
                        <li> <apex:outputText value=" {!$Label.WillChanges}" escape="false"/> 
                        </li>
                        
                        <br/>
                        <apex:outputText style="font-weight:bold;" value="One should consider below mentioned aspects while making a Will and POA." escape="false"/> <br/>
                        <br/>
                        <li>
                             <apex:outputText style="font-weight:bold;" value="Holding pattern of assets : " escape="false"/><br/> 
                             <apex:outputText value="Joint holding will ensure access to atleast one of you in case there is an emergency need for the money. 
                             If many investments are singly held there is a possibility that it may remain inaccessible when needed. 
                             It is good that you have your investments in joint holding.  In case some investments are very old, 
                             you may want to check the holding pattern and make changes wherever applicable.  However anyone or 
                             survivor joint holding is not to be confused with ownership. In the event of the demise of one of the holders, 
                             the other does not become the sole owner, rather the share of the deceased holder will have to be distributed 
                             accordingly to his Will or the Law."/>
                        </li>
                        <br/>
                        <li>
                             <apex:outputText style="font-weight:bold;" value="Keeping family informed : " escape="false"/><br/>
                             <apex:outputText value="Your family for whose use you have accumulated all the assets need to have knowledge 
                             of what is available and where it is accessible. Preparing a list of all your assets might be a very good idea. 
                             Better still will be preparing a detailed Will. "/>
                        </li>
                        <br/>
                        <li>
                             <apex:outputText style="font-weight:bold;" value="Prepare a Will : " escape="false"/> <br/>
                             <apex:outputText value="A Will is a declaration in a prescribed manner of the intention of the person making it, 
                             with regard to the matters which he wishes to take effect upon or after his death. This is important to ensure 
                             that the family and loved ones gain easy access to assets built for them without any legal hassles. 
                             In this uncertain world, there is no better time than NOW to write the Will."/><br/>
							<apex:outputText value="Subscribe to our Succession Planning services for preparing a legally sound and comprehensively well thought out 
							Will from the comforts of your home."/>
                        </li>
                        <br/>
                        <li>
                             <apex:outputText style="font-weight:bold;" value="Power of Attorney : " escape="false"/> <br/>
                             <apex:outputText value="A Power of Attorney is a legal right you give someone to act on your behalf in case 
                             you are not available or in a position to act. This can be general POA to act on all matters or a restricted 
                             POA to act only under certain circumstances. If you are travelling extensively, authorizing someone to work on 
                             your behalf in case you cannot do it on your own, will ensure that your work will not be affectedbecause of your 
                             unavailability. Also in case of a disability, access to your assets will not be denied if a POA is available. 
                             At the same time a POA in the wrong hands can turn out dangerous. You may want to check the conditions in your 
                             POA and ensure they are updated and relevant."/>
                        </li>
                    </ul>
                </apex:outputPanel>
                
                 <apex:outputPanel rendered="{!bean.entity.Will__c}"> 
                    <ul class="TickList">
                        <li> 
                             <apex:outputText value=" {!$Label.WillPresent}" escape="false"/> 
                        </li>
                        <li>
                             <apex:outputText value=" {!$Label.WillChanges}" escape="false"/> 
                        </li>
                        <li>
                        	<apex:outputText value="Execution Tracker to be opened? " escape="false"/> 
		                    <apex:selectList value="{!beanObj.isWillExecutionTracker}" size="1" style="width:100px;">
		                          <apex:selectOptions value="{!ExecutionTracker}"></apex:selectOptions>
		                    </apex:selectList>
                 		</li>
                    </ul>
                 <!--   					Date : 11-02-2013  Action Plan  : Prajakta Sanap -->                   
<!--                 <apex:outputPanel rendered="{!isDisplaySaveButton}">    -->
	           <apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">
<!-- 	                <apex:outputPanel rendered="{!isSave}" id="displaySave5"> -->
		 				<apex:commandButton value="Save" Action="{!saveActionPlan}"  style="margin-top:15px;margin-left:350px;font-weight:bold; font-size:11px;" 
		                                    onclick="if(!confirm('Do you want to continue?')){return false;}" rendered="{!Not(blnIsETAlreadyGenerated)}" 
		                                    rerender="pageBlockSection,Pagemsg" status="statusWill"/>
<!-- 		        	</apex:outputPanel> -->
		        </apex:outputPanel>
                </apex:outputPanel>
           
	        	<apex:actionStatus stopText="" id="statusWill">
	                <apex:facet name="start">                
	                    <apex:outputPanel style="padding-left:1%;">
	                          <img src="/img/loading.gif" width="16" height="16"/>
	                    </apex:outputPanel>
	                </apex:facet>
	        	</apex:actionStatus>  
			</apex:pageBlockSection>
		</apex:outputPanel>
<!-- 			 =========================================================UNALLOCATED ASSETS====================================================	 -->

				<apex:pageBlockSection title="UNALLOCATED ASSETS" collapsible="true" columns="1" id="section8">
            		<div class="subHeader" style="width:85%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">ASSETS NOT ALLOCATED</div>
                		<apex:pageBlockSection collapsible="true" columns="11" >
				        	<apex:pageBlockTable value="{!beanObj.lstUnAllocatedAssets}" var="unallocated" styleClass="required" style="margin-left:48px;width:800px;">
				        		
				        		<apex:column headerValue="Owner" width="15%">
			                        <apex:outputText value="{!unallocated.entityName}"/>
			                    </apex:column>
				        		<apex:column headerValue="Assets" width="20%">
			                        <apex:outputText value="{!unallocated.Type}"/>
			                    </apex:column>
			                    <apex:column headerValue="Description" width="20%">
			                        <apex:outputText value="{!unallocated.description}"/>
			                    </apex:column>
			                    <apex:column headerValue="Current Value" width="15%" style="text-align:right; padding-right:25px;">
			                        <apex:outputText value="{0, number, ,##,##0}" >
		                                 <apex:param value="{!unallocated.currentValue}"/>
		                            </apex:outputText>
			                    </apex:column>
			                    <apex:column headerValue="Balance Remaining" width="15%" style="text-align:right; padding-right:25px;">
			                        <apex:outputText value="{0, number, ,##,##0}" >
                                         <apex:param value="{!unallocated.balanceRemaining}"/>
                                    </apex:outputText>
			                    </apex:column>
							</apex:pageBlockTable>
						</apex:pageBlockSection>
						<apex:pageBlockSectionItem >
		           			<apex:outputText value="Remarks: " style="text-align:left;"/>
		           			<apex:inputTextArea value="{!unallocatedAssetRemark}" style="width:300px;height:55px;"/>
		           		</apex:pageBlockSectionItem>
		           		<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">
<!-- 							<apex:outputPanel rendered="{!isSave}" id="displaySave_4"> -->
					        	<apex:commandButton value="Save" Action="{!saveActionPlan}"  
					        						style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" 
					                                onclick="if(!confirm('Do you want to continue?')){return false;}" 
					                                rerender="section8" status="statusId_UA"/>
<!-- 					        </apex:outputPanel> -->
					        <apex:actionStatus stopText="" id="statusId_UA">
				            	<apex:facet name="start">                
					            	<apex:outputPanel style="padding-left:1%;">
					                	<img src="/img/loading.gif" width="16" height="16"/>
					                </apex:outputPanel>
				            	</apex:facet>
				        	</apex:actionStatus>  
					    </apex:outputPanel>
				       
				</apex:pageBlockSection>
<!--  ================================================================================================================== -->


<!-- =====Aditi Satpute : 5/12/13==========================Other Products====================================================	 -->
			<apex:pageBlockSection title="OTHER PRODUCTS" collapsible="true" columns="1" id="section9">
				<apex:pageMessages id="Pagemsg2"/>
				<apex:pageBlockSection title="Loan Section" columns="1" collapsible="true" >
           			<div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">LOAN</div>
           			<apex:outputPanel rendered="{!IF(beanObj.lstLoan.size>0,true,false)}">
           			
		        		<apex:pageBlockTable value="{!beanObj.lstLoan}" var="loanObj" styleClass="required" style="margin-left:48px;width:800px;" id="loanId">
			        		<apex:column headerValue="Remove" style="text-align:center;">
		                        <apex:inputCheckbox rendered="{!IF(loanObj.ETStatus == 'Partially Executed' || loanObj.ETStatus == 'Fully Executed' || loanObj.ETStatus == 'Not Executed',false,true)}" value="{!loanObj.isRemove}" id="checkedone"/>
		                    </apex:column>
			        		<apex:column headerValue="Applicant" style="text-align:left;" width="20%">
									<apex:selectList rendered="{!IF(loanObj.ETStatus == 'Partially Executed' || loanObj.ETStatus == 'Fully Executed',false,true)}" value="{!loanObj.applicant}" size="1" styleClass="textStyle" style="width:100px;">
	                                <apex:selectOptions value="{!Entities}"></apex:selectOptions>
	                            </apex:selectList>
	                            <apex:outputText rendered="{!IF(loanObj.ETStatus == 'Partially Executed' || loanObj.ETStatus == 'Fully Executed',true,false)}" value="{!loanObj.applicant}" style="width:190px;"/>
		                    </apex:column>
		                   
		                    <apex:column headerValue="Loan Type" style="text-align:left;" width="20%" id="policyTypeId">
		                    <apex:actionRegion >
			                    	  <apex:selectList rendered="{!IF(loanObj.ETStatus == 'Partially Executed' || loanObj.ETStatus == 'Fully Executed',false,true)}" value="{!loanObj.loanType}" size="1"  styleClass="textStyle" style="width:100px;"> 
<!-- 			                    	  	onchange="changePolicyName(this.value, '{!loanObj.index}');" > -->
		                              	 <apex:selectOptions value="{!lstLoanType}"></apex:selectOptions>
		                              	 <apex:actionSupport event="onchange" rerender="vendorNameId" action="{!getLoanVendorsName}">
                                                    <apex:param name="index" value="{!loanObj.index}"/>
                                                    <apex:param name="strPolicyType" value="{!loanObj.loanType}"/>
                                                </apex:actionSupport>
		                          	  </apex:selectList>
		                    </apex:actionRegion>      	  
		                          	  <apex:outputText rendered="{!IF(loanObj.ETStatus == 'Partially Executed' || loanObj.ETStatus == 'Fully Executed',true,false)}" value="{!loanObj.loanType}" style="width:190px;"/>
		                    </apex:column>
							<apex:column headerValue="Vendors Name" style="text-align:left;" id="policyNameId" >
								
								
								 <apex:inputText rendered="{!IF(loanObj.ETStatus == 'Partially Executed' || loanObj.ETStatus == 'Fully Executed',false,true)}" id="vendorId" styleClass="inputLoan requiredField" value="{!loanObj.vendorName}"  
								 	 >
<!-- 								 	 onfocus="callOnFocus(this,'{!loanObj.index}','{!loanObj.loanType}');" -->
								 	<apex:actionSupport event="onfocus" rerender="vendorNameId" action="{!getLoanVendorsName}" status="bottomStatus11">
                                                    <apex:param name="index" value="{!loanObj.index}"/>
                                                    <apex:param name="strPolicyType" value="{!loanObj.loanType}"/>
                                                </apex:actionSupport>
                                  </apex:inputText>              
								 <apex:outputPanel id="vendorNameId">
								 	<apex:actionStatus stopText="" id="bottomStatus11">
							                <apex:facet name="start">
							               		<apex:outputPanel style="padding-left:2%;padding-top:5px;">
							                    	<img src="/img/loading.gif" width="16" height="16"/>
												</apex:outputPanel>
							                </apex:facet>
									</apex:actionStatus>  
					        		<script>
												$(document).ready(function()
										        {
										        	var availableProductName =[{!strProductLoan}];
										            $(".inputLoan").autocomplete({
										        		source: availableProductName,
													  	select: function(event, ui) 
													  	{
														  	var strVal = ui.item.value;	  
													  	} 
													});		
										        
										        });
							        </script>
					        	</apex:outputPanel>	
					        	 <apex:outputText rendered="{!IF(loanObj.ETStatus == 'Partially Executed' || loanObj.ETStatus == 'Fully Executed',true,false)}" value="{!loanObj.vendorName}" style="width:190px;"/>
					        	
	                        </apex:column>
							
							
		                    <apex:column headerValue="Loan Amount" style="text-align:right;" width="20%">
		                        <apex:inputText value="{!loanObj.loanAmount}" rendered="{!IF(loanObj.ETStatus != 'Fully Executed',true,false)}" style="width:80px;text-align:right;" styleClass="requiredField"/>  
		                         <apex:outputText rendered="{!IF(loanObj.ETStatus == 'Fully Executed',true,false)}" value="{!loanObj.loanAmount}" style="width:190px;text-align:right;"/>
		                    </apex:column>
		                   	<apex:column style="text-align:left;">
	                   			<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
		                        <apex:selectList rendered="{!IF(loanObj.ETStatus == 'Partially Executed' || loanObj.ETStatus == 'Fully Executed',false,true)}" value="{!loanObj.AddOnExecutionTracker}" size="1" styleClass="textStyle" style="width:100px;">
	                                <apex:selectOptions value="{!ExecutionTracker}"></apex:selectOptions>
	                            </apex:selectList>
	                            <apex:outputText rendered="{!IF(loanObj.ETStatus == 'Partially Executed' || loanObj.ETStatus == 'Fully Executed',true,false)}" value="{!loanObj.AddOnExecutionTracker}" style="width:190px;"/>
		                   	</apex:column> 
		                   	<apex:column headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;">
			        			<apex:outputText value="{!loanObj.ETStatus}" />
			        		 </apex:column>
			        		 
			        		 
						</apex:pageBlockTable> 
<!-- 						 <apex:actionFunction name="changePolicyName" action="{!getLoanVendorsName}" rerender="policyTypeId,policyNameId" > -->
<!-- 						   		<apex:param name="strPolicyType"  value=""/> -->
<!-- 						   		<apex:param name="index"  value=""/>  -->
<!-- 						 </apex:actionFunction>  -->
									
					</apex:outputPanel>
<!-- 					</apex:pageBlockSection> -->
					<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">	
						<apex:commandButton value="Add New" Action="{!addNewLoan}"  reRender="section9,Pagemsg"
	       						style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" status="bottomStatus_1"/>
	       				<apex:outputPanel rendered="{!IF(beanObj.lstLoan.size>0,true,false)}">
			        		<apex:commandButton value="Remove" Action="{!removeNewLoan}"  status="bottomStatus_1" rerender="section9,Pagemsg,Pagemsg1,Pagemsg2" />
					    </apex:outputPanel>
					    <apex:actionStatus stopText="" id="bottomStatus_1">
			                <apex:facet name="start">
			               		<apex:outputPanel style="padding-left:2%;padding-top:5px;">
			                    	<img src="/img/loading.gif" width="16" height="16"/>
								</apex:outputPanel>
			                </apex:facet>
						</apex:actionStatus>  
					</apex:outputPanel>
					<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false || beanObj.lstLoan.size == 0),False,True)}">
			        	<apex:commandButton value="Save" Action="{!saveActionPlan}"  
			        						style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" 
			                                onclick="if(!confirm('Do you want to continue?')){return false;}" 
			                                rendered="{!Not(blnIsETAlreadyGenerated)}" rerender="section9,Pagemsg1,Pagemsg,Pagemsg2" status="statusId4"/>
						<apex:actionStatus stopText="" id="statusId4">
				            <apex:facet name="start">                
				            	<apex:outputPanel style="padding-left:1%;">
				                	<img src="/img/loading.gif" width="16" height="16"/>
				                </apex:outputPanel>
				            </apex:facet>
				        </apex:actionStatus>  
			    	</apex:outputPanel>
              	</apex:pageBlockSection>	
   	    		<apex:pageBlockSection title="Fixed Deposit Section" columns="1" collapsible="true" >
           			<div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">FIXED DEPOSIT</div>
           			<apex:outputPanel rendered="{!IF(beanObj.lstFixedDeposit.size>0,true,false)}">
		        		<apex:pageBlockTable value="{!beanObj.lstFixedDeposit}" var="fixedDepositObj" styleClass="required" style="margin-left:48px;width:80%;" id="fixedDepositId">
			        		<apex:column headerValue="Remove" style="text-align:center;">
		                        <apex:inputCheckbox rendered="{!IF(fixedDepositObj.ETStatus == 'Partially Executed' || fixedDepositObj.ETStatus == 'Fully Executed' || fixedDepositObj.ETStatus == 'Not Executed',false,true)}" value="{!fixedDepositObj.isRemove}" id="checkedone"/>
		                    </apex:column>
			        		<apex:column headerValue="Applicant" style="text-align:left;" width="10%">
									<apex:selectList rendered="{!IF(fixedDepositObj.ETStatus == 'Partially Executed' || fixedDepositObj.ETStatus == 'Fully Executed',false,true)}" style="width:100px;" value="{!fixedDepositObj.actionPlanFDobj.Insured__c}" size="1" styleClass="textStyle">
	                                <apex:selectOptions value="{!Entities}"></apex:selectOptions>
	                            </apex:selectList>
	                            <apex:outputText rendered="{!IF(fixedDepositObj.ETStatus == 'Partially Executed' || fixedDepositObj.ETStatus == 'Fully Executed',true,false)}" value="{!fixedDepositObj.actionPlanFDobj.Insured__c}" />
		                    </apex:column>
		                   
		                    <apex:column headerValue="Goal Type" style="text-align:left;" width="10%" >
		                    	  <apex:selectList rendered="{!IF(fixedDepositObj.ETStatus == 'Partially Executed' || fixedDepositObj.ETStatus == 'Fully Executed',false,true)}" style="width:100px;" value="{!fixedDepositObj.actionPlanFDobj.Goal_Type__c}" size="1"  styleClass="textStyle"> 
	                              	 <apex:selectOptions value="{!goalType}"></apex:selectOptions>
	                          	  </apex:selectList>
	                          	  <apex:outputText rendered="{!IF(fixedDepositObj.ETStatus == 'Partially Executed' || fixedDepositObj.ETStatus == 'Fully Executed',true,false)}" value="{!fixedDepositObj.actionPlanFDobj.Goal_Type__c}"/>
		                    </apex:column>
							<apex:column headerValue="Company Name" style="text-align:left;" width="10%" >
								 <apex:inputField rendered="{!IF(fixedDepositObj.ETStatus == 'Partially Executed' || fixedDepositObj.ETStatus == 'Fully Executed',false,true)}" id="compnayId"  required="true" value="{!fixedDepositObj.actionPlanFDobj.Company_Name__c}"  style="width:100px;">
								 <apex:actionSupport event="onchange" rerender="fdSchemeNameId" action="{!getFDVendorsName}">
                                                    <apex:param name="index" value="{!fixedDepositObj.index}"/>
                                                    <apex:param name="strPolicyType" value="{!fixedDepositObj.actionPlanFDobj.Company_Name__c}"/>
                                                </apex:actionSupport>
                                  </apex:inputField>     
								 <apex:outputPanel id="fdSchemeNameId">
					        		<script>
												$(document).ready(function()
										        {
										        	
										        	//alert('hi'+'{!fixedDepositObj.index}');
										        	//alert('CompnayNAME'+'{!fixedDepositObj.actionPlanFDobj.Company_Name__c}');
										        	//alert('nEWCompnayNAMEi'+'{!fixedDepositObj.companyName}');
										        	var availableProductName =[{!strProductFD}];
										            $(".inputFD").autocomplete({
										        		source: availableProductName,
													  	select: function(event, ui) 
													  	{
														  	var strVal = ui.item.value;	  
													  	} 
													});		
										        
										        });
							        </script>
					        	</apex:outputPanel>	
								 
					        	 <apex:outputText rendered="{!IF(fixedDepositObj.ETStatus == 'Partially Executed' || fixedDepositObj.ETStatus == 'Fully Executed',true,false)}" value="{!fixedDepositObj.companyName}" />
	                        </apex:column>
							<apex:column headerValue="Scheme Name" style="text-align:left;" width="10%" >
								 <apex:inputText rendered="{!IF(fixedDepositObj.ETStatus == 'Partially Executed' || fixedDepositObj.ETStatus == 'Fully Executed',false,true)}" id="schemeNameId" styleClass="inputFD requiredField" value="{!fixedDepositObj.actionPlanFDobj.Product_Name__c}" style="width:100px;">
								 <apex:actionSupport event="onfocus" rerender="schemeNamefdId" action="{!getFDVendorsName}" status="bottomStatus12">
                                                    <apex:param name="index" value="{!fixedDepositObj.index}"/>
                                                    <apex:param name="strPolicyType" value="{!fixedDepositObj.actionPlanFDobj.Company_Name__c}"/>
                                   </apex:actionSupport>
                                  </apex:inputText>              
								 <apex:outputPanel id="schemeNamefdId">
								 	<apex:actionStatus stopText="" id="bottomStatus12">
							                <apex:facet name="start">
							               		<apex:outputPanel style="padding-left:2%;padding-top:5px;">
							                    	<img src="/img/loading.gif" width="16" height="16"/>
												</apex:outputPanel>
							                </apex:facet>
									</apex:actionStatus>  
					        		<script>
												$(document).ready(function()
										        {
										        	//alert('SCHEME NAME'+'{!strProductFD}');
										        	var availableProductName =[{!strProductFD}];
										            $(".inputFD").autocomplete({
										        		source: availableProductName,
													  	select: function(event, ui) 
													  	{
														  	var strVal = ui.item.value;	  
													  	} 
													});		
										        
										        });
							        </script>
					        	</apex:outputPanel>	
								 
								 
								 
					        	 <apex:outputText rendered="{!IF(fixedDepositObj.ETStatus == 'Partially Executed' || fixedDepositObj.ETStatus == 'Fully Executed',true,false)}" value="{!fixedDepositObj.actionPlanFDobj.Product_Name__c}" style="width:19%;"/>
	                        </apex:column>
							<apex:column headerValue="Period in Months" style="text-align:right;" width="10%" >
								 <apex:inputText rendered="{!IF(fixedDepositObj.ETStatus == 'Partially Executed' || fixedDepositObj.ETStatus == 'Fully Executed',false,true)}" id="periodInMonthsId" styleClass="requiredField" value="{!fixedDepositObj.actionPlanFDobj.Period_in_Months__c}" style="width:100px;"/>
					        	 <apex:outputText rendered="{!IF(fixedDepositObj.ETStatus == 'Partially Executed' || fixedDepositObj.ETStatus == 'Fully Executed',true,false)}" value="{!fixedDepositObj.actionPlanFDobj.Period_in_Months__c}" style="width:19%;"/>
	                        </apex:column> 
		                    <apex:column headerValue="Investment Amount" style="text-align:right;" width="10%">
		                        <apex:inputText value="{!fixedDepositObj.actionPlanFDobj.Amount__c}" rendered="{!IF(fixedDepositObj.ETStatus != 'Fully Executed',true,false)}" style="text-align:right;width:100px;" styleClass="requiredField"/>  
		                         <apex:outputText rendered="{!IF(fixedDepositObj.ETStatus == 'Fully Executed',true,false)}" value="{!fixedDepositObj.actionPlanFDobj.Amount__c}" style="width:190px;text-align:right;"/>
		                    </apex:column>
		                   	<apex:column style="text-align:left;" width="10%"> 
	                   			<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
		                        <apex:selectList rendered="{!IF(fixedDepositObj.ETStatus == 'Partially Executed' || fixedDepositObj.ETStatus == 'Fully Executed',false,true)}" value="{!fixedDepositObj.AddOnExecutionTracker}" style="width:100px;" size="1" styleClass="textStyle">
	                                <apex:selectOptions value="{!ExecutionTracker}"></apex:selectOptions>
	                            </apex:selectList>
	                            <apex:outputText rendered="{!IF(fixedDepositObj.ETStatus == 'Partially Executed' || fixedDepositObj.ETStatus == 'Fully Executed',true,false)}" value="{!fixedDepositObj.AddOnExecutionTracker}"/>
		                   	</apex:column> 
		                   	<apex:column headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;" width="10%">
			        			<apex:outputText value="{!fixedDepositObj.ETStatus}" />
			        		 </apex:column>
						</apex:pageBlockTable> 
					</apex:outputPanel>
					<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">	
						<apex:commandButton value="Add New" Action="{!addNewFD}"  reRender="section9,Pagemsg"
	       						style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" status="bottomStatus_1"/>
	       				<apex:outputPanel rendered="{!IF(beanObj.lstFixedDeposit.size>0,true,false)}">
			        		<apex:commandButton value="Remove" Action="{!removeNewFD}"  status="bottomStatus_1" rerender="section9,Pagemsg,Pagemsg1" />
					    </apex:outputPanel>
					    <apex:actionStatus stopText="" id="bottomStatus_1">
			                <apex:facet name="start">
			               		<apex:outputPanel style="padding-left:2%;padding-top:5px;">
			                    	<img src="/img/loading.gif" width="16" height="16"/>
								</apex:outputPanel>
			                </apex:facet>
						</apex:actionStatus>  
					</apex:outputPanel>
					<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false || beanObj.lstFixedDeposit.size == 0),False,True)}">
			        	<apex:commandButton value="Save" Action="{!saveActionPlan}"  
			        						style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" 
			                                onclick="if(!confirm('Do you want to continue?')){return false;}" 
			                                rendered="{!Not(blnIsETAlreadyGenerated)}" rerender="section9,Pagemsg1,Pagemsg,Pagemsg2" status="statusId4"/>
						<apex:actionStatus stopText="" id="statusId4">
				            <apex:facet name="start">                
				            	<apex:outputPanel style="padding-left:1%;">
				                	<img src="/img/loading.gif" width="16" height="16"/>
				                </apex:outputPanel>
				            </apex:facet>
				        </apex:actionStatus>  
			    	</apex:outputPanel>
               	</apex:pageBlockSection>
              	<apex:pageBlockSection title="Bond Section" columns="1" collapsible="true" >
           			<div class="subHeader" style="width:15%;padding-left:10px;margin-left:50px;background-color:#A9C5EB;">BOND</div>
           			<apex:outputPanel rendered="{!IF(beanObj.lstBond.size>0,true,false)}">
		        		<apex:pageBlockTable value="{!beanObj.lstBond}" var="bondObj" styleClass="required" style="margin-left:48px;width:80%;" id="bondId">
			        		<apex:column headerValue="Remove" style="text-align:center;">
		                        <apex:inputCheckbox rendered="{!IF(bondObj.ETStatus == 'Partially Executed' || bondObj.ETStatus == 'Fully Executed' || bondObj.ETStatus == 'Not Executed',false,true)}" value="{!bondObj.isRemove}" id="checkedone"/>
		                    </apex:column>
			        		<apex:column headerValue="Applicant" style="text-align:left;" width="10%">
									<apex:selectList rendered="{!IF(bondObj.ETStatus == 'Partially Executed' || bondObj.ETStatus == 'Fully Executed',false,true)}" style="width:100px;" value="{!bondObj.actionPlanBondObj.Insured__c}" size="1" styleClass="textStyle">
	                                <apex:selectOptions value="{!Entities}"></apex:selectOptions>
	                            </apex:selectList>
	                            <apex:outputText rendered="{!IF(bondObj.ETStatus == 'Partially Executed' || bondObj.ETStatus == 'Fully Executed',true,false)}" value="{!bondObj.actionPlanBondObj.Insured__c}" />
		                    </apex:column>
		                   
		                    <apex:column headerValue="Goal Type" style="text-align:left;" width="10%" >
		                    	  <apex:selectList rendered="{!IF(bondObj.ETStatus == 'Partially Executed' || bondObj.ETStatus == 'Fully Executed',false,true)}" style="width:100px;" value="{!bondObj.actionPlanBondObj.Goal_Type__c}" size="1"  styleClass="textStyle"> 
	                              	 <apex:selectOptions value="{!goalType}"></apex:selectOptions>
	                          	  </apex:selectList>
	                          	  <apex:outputText rendered="{!IF(bondObj.ETStatus == 'Partially Executed' || bondObj.ETStatus == 'Fully Executed',true,false)}" value="{!bondObj.actionPlanBondObj.Goal_Type__c}"/>
		                    </apex:column>
							<apex:column headerValue="Company Name" style="text-align:left;" width="10%" >
								 <apex:inputField rendered="{!IF(bondObj.ETStatus == 'Partially Executed' || bondObj.ETStatus == 'Fully Executed',false,true)}" id="compnayId" required="true" value="{!bondObj.actionPlanBondObj.Company_Name__c}" style="width:100px;" > 
								 	 <apex:actionSupport event="onchange" rerender="bondSchemeNameId" action="{!getBondVendorsName}">
                                                    <apex:param name="index" value="{!bondObj.index}"/>
                                                    <apex:param name="strPolicyType" value="{!bondObj.actionPlanBondObj.Company_Name__c}"/>
                                                </apex:actionSupport>
                                  </apex:inputField>     
								 <apex:outputPanel id="bondSchemeNameId">
					        		<script>
												$(document).ready(function()
										        {
										        	
										        	var availableProductName =[{!strProductBond}];
										            $(".inputBond").autocomplete({
										        		source: availableProductName,
													  	select: function(event, ui) 
													  	{
														  	var strVal = ui.item.value;	  
													  	} 
													});		
										        
										        });
							        </script>
					        	</apex:outputPanel>	
					        	 <apex:outputText rendered="{!IF(bondObj.ETStatus == 'Partially Executed' || bondObj.ETStatus == 'Fully Executed',true,false)}"  value="{!bondObj.companyName}"/>
	                        </apex:column>
							<apex:column headerValue="Category" style="text-align:left;" width="10%" >
								 <apex:inputText rendered="{!IF(bondObj.ETStatus == 'Partially Executed' || bondObj.ETStatus == 'Fully Executed',false,true)}" id="schemeNameId" styleClass="inputBond requiredField" value="{!bondObj.actionPlanBondObj.Product_Name__c}" style="width:100px;">
								 	<apex:actionSupport event="onfocus" rerender="schemeNameBondId" action="{!getBondVendorsName}" status="bottomStatusBondId">
                                                    <apex:param name="index" value="{!bondObj.index}"/>
                                                    <apex:param name="strPolicyType" value="{!bondObj.actionPlanBondObj.Company_Name__c}"/>
                                   </apex:actionSupport>
                                  </apex:inputText>              
								 <apex:outputPanel id="schemeNameBondId">
								 	<apex:actionStatus stopText="" id="bottomStatusBondId">
							                <apex:facet name="start">
							               		<apex:outputPanel style="padding-left:2%;padding-top:5px;">
							                    	<img src="/img/loading.gif" width="16" height="16"/>
												</apex:outputPanel>
							                </apex:facet>
									</apex:actionStatus>  
					        		<script>
												$(document).ready(function()
										        {
										        	var availableProductName =[{!strProductBond}];
										            $(".inputBond").autocomplete({
										        		source: availableProductName,
													  	select: function(event, ui) 
													  	{
														  	var strVal = ui.item.value;	  
													  	} 
													});		
										        
										        });
							        </script>
					        	</apex:outputPanel>	
					        	 <apex:outputText rendered="{!IF(bondObj.ETStatus == 'Partially Executed' || bondObj.ETStatus == 'Fully Executed',true,false)}" value="{!bondObj.actionPlanBondObj.Product_Name__c}" style="width:19%;"/>
	                        </apex:column>
							<apex:column headerValue="Bond Type" style="text-align:left;" width="10%" >
					        	 <apex:selectList rendered="{!IF(bondObj.ETStatus == 'Partially Executed' || bondObj.ETStatus == 'Fully Executed',false,true)}" style="width:100px;" value="{!bondObj.actionPlanBondObj.Bond_Type__c}" size="1"  styleClass="textStyle"> 
	                              	 <apex:selectOptions value="{!lstBondType}"></apex:selectOptions>
	                          	  </apex:selectList>
					        	 <apex:outputText rendered="{!IF(bondObj.ETStatus == 'Partially Executed' || bondObj.ETStatus == 'Fully Executed',true,false)}" value="{!bondObj.actionPlanBondObj.Bond_Type__c}" style="width:19%;"/>
	                        </apex:column> 
		                    <apex:column headerValue="Bond Amount" style="text-align:right;" width="10%">
		                        <apex:inputText value="{!bondObj.actionPlanBondObj.Amount__c}" rendered="{!IF(bondObj.ETStatus != 'Fully Executed',true,false)}" style="text-align:right;width:100px;" styleClass="requiredField"/>  
		                         <apex:outputText rendered="{!IF(bondObj.ETStatus == 'Fully Executed',true,false)}" value="{!bondObj.actionPlanBondObj.Amount__c}" style="width:190px;text-align:right;"/>
		                    </apex:column>
		                   	<apex:column style="text-align:left;" width="10%"> 
	                   			<apex:facet name="header">Execution Tracker <br/> To Be Opened</apex:facet>
		                        <apex:selectList rendered="{!IF(bondObj.ETStatus == 'Partially Executed' || bondObj.ETStatus == 'Fully Executed',false,true)}" value="{!bondObj.AddOnExecutionTracker}" style="width:100px;" size="1" styleClass="textStyle">
	                                <apex:selectOptions value="{!ExecutionTracker}"></apex:selectOptions>
	                            </apex:selectList>
	                            <apex:outputText rendered="{!IF(bondObj.ETStatus == 'Partially Executed' || bondObj.ETStatus == 'Fully Executed',true,false)}" value="{!bondObj.AddOnExecutionTracker}"/>
		                   	</apex:column> 
		                   	<apex:column headerValue="ET Status" style="text-align:center;FONT-WEIGHT: bold;" width="10%">
			        			<apex:outputText value="{!bondObj.ETStatus}" />
			        		 </apex:column>
						</apex:pageBlockTable> 
					</apex:outputPanel>
					<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false),False,True)}">	
						<apex:commandButton value="Add New" Action="{!addNewBond}"  reRender="section9,Pagemsg"
	       						style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" status="bottomStatus_1"/>
	       				<apex:outputPanel rendered="{!IF(beanObj.lstBond.size>0,true,false)}">
			        		<apex:commandButton value="Remove" Action="{!removeNewBond}"  status="bottomStatus_1" rerender="section9,Pagemsg,Pagemsg1" />
					    </apex:outputPanel>
					    <apex:actionStatus stopText="" id="bottomStatus_1">
			                <apex:facet name="start">
			               		<apex:outputPanel style="padding-left:2%;padding-top:5px;">
			                    	<img src="/img/loading.gif" width="16" height="16"/>
								</apex:outputPanel>
			                </apex:facet>
						</apex:actionStatus>  
					</apex:outputPanel>
					<apex:outputPanel rendered="{!IF((CONTAINS(LEFT($User.ProfileId,15), LEFT($Label.ProfileId,15)) || isDisplaySaveButton == false || beanObj.lstBond.size == 0),False,True)}">
			        	<apex:commandButton value="Save" Action="{!saveActionPlan}"  
			        						style="margin-top:15px;margin-left:450px;font-weight:bold; font-size:11px;" 
			                                onclick="if(!confirm('Do you want to continue?')){return false;}" 
			                                rendered="{!Not(blnIsETAlreadyGenerated)}" rerender="section9,Pagemsg1,Pagemsg,Pagemsg2" status="statusId4"/>
						<apex:actionStatus stopText="" id="statusId4">
				            <apex:facet name="start">                
				            	<apex:outputPanel style="padding-left:1%;">
				                	<img src="/img/loading.gif" width="16" height="16"/>
				                </apex:outputPanel>
				            </apex:facet>
				        </apex:actionStatus>  
			    	</apex:outputPanel>
               	</apex:pageBlockSection>	   
				</apex:pageBlockSection>
<!--  ================================================================================================================== -->

			</apex:outputPanel>	 
			
			<script>
		        twistSection(document.getElementById('{!$Component.block1.section1}').getElementsByTagName('img')[0])
		        twistSection(document.getElementById('{!$Component.block1.section2}').getElementsByTagName('img')[0])
		        twistSection(document.getElementById('{!$Component.block1.section3}').getElementsByTagName('img')[0])
		        twistSection(document.getElementById('{!$Component.block1.section4}').getElementsByTagName('img')[0])
		        twistSection(document.getElementById('{!$Component.block1.section5}').getElementsByTagName('img')[0])
		        twistSection(document.getElementById('{!$Component.block1.section6}').getElementsByTagName('img')[0])
		        twistSection(document.getElementById('{!$Component.block1.section7}').getElementsByTagName('img')[0])
		        twistSection(document.getElementById('{!$Component.block1.section8}').getElementsByTagName('img')[0])
		        twistSection(document.getElementById('{!$Component.block1.section9}').getElementsByTagName('img')[0])
		        twistSection(document.getElementById('{!$Component.block1.section11}').getElementsByTagName('img')[0])
		        twistSection(document.getElementById('{!$Component.block1.section12}').getElementsByTagName('img')[0])
		        twistSection(document.getElementById('{!$Component.block1.section13}').getElementsByTagName('img')[0])
		        twistSection(document.getElementById('{!$Component.block1.section}').getElementsByTagName('img')[0])
				twistSection(document.getElementById('{!$Component.block1.section_OtherProducts}').getElementsByTagName('img')[0])
										
		    </script>       		
        </apex:pageBlock>
        
        <br/></apex:outputPanel>
        </apex:outputPanel>
        </apex:outputPanel>
        </apex:form>
        </apex:define>
    </apex:composition>
</apex:page>